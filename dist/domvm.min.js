/*
 https://github.com/leeoniya/domvm (1.2.8)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var t=("undefined"==typeof window?{}:window).requestAnimationFrame,v={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},g={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(c){return c instanceof Array},isVal:function(c){c=typeof c;return"string"===c||"number"===c},isObj:function(c){return"object"===typeof c&&null!==c&&!g.isArr(c)},isFunc:function(c){return"function"===typeof c},isProm:function(c){return"object"===typeof c&&g.isFunc(c.then)},isElem:function(c){return c instanceof HTMLElement},execAll:function(c,d,n,b,p,u){var z;c&&(g.isArr(c)?c:[c]).forEach(function(c){z=c.call(null,d,n,b,p,u)});return z},repaint:function(c){},insertArr:function(c,
d,n,b){c.splice.apply(c,[n,b].concat(d))},isEvProp:function(c){return"on"===c.substr(0,2)},isDynProp:function(c,d){switch(c){case "input":case "textarea":case "select":case "option":switch(d){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(c,d){return isNaN(d)||v[c]?d:d+"px"},cmpArr:function(c,d){var n=c.length;if(n!=d.length)return!1;for(;n--;)if(c[n]!==d[n])return!1;return!0},
deepSet:function(c,d,n,b,p,u){d=d.split(".");var z=d.pop();d.forEach(function(b){c[b]||(c[b]={});c=c[b]});if(g.isFunc(c[z]))c[z](n,b,p,u);else c[z]=n},deepGet:function(c,d){var n=d.split(".");do c=c[n.shift()];while(n.length);return c},keyedIdx:function(c,d,n,b,p){for(b=0;b<d.length;b++)if(p=d[b],p.key===c)if(n){if(p.vm&&p.vm.ident[0]===n)return b}else return b;return-1},raft:function(c){function d(){n=0;c.apply(b,p)}if(!t)return c;var n,b,p;return function(){b=this;p=arguments;n||(n=t(d))}}};w.utils=
g})(domvm);(function(w){function t(a){for(G.repaint&&m.repaint(a);a=H.shift();)a[0].apply(null,a.slice(1))}function v(a,k){return!1===k?null:null==k&&null!=a?a:m.isVal(k)||m.isObj(k)||m.isArr(k)||m.isFunc(k)?k:null}function g(a,k,l,b,y,e){function h(a,k,e){if(e)a[k]=a[k]||[],a[k].push(e);else for(var l in k)a[l]=a[l]||[],a[l].push(k[l])}function f(a,k,l){y=a;e=k;q.update(l,!1);null!=q.node&&(y.body[e]=q.node);return g(0,!1)}function u(a){return null==a?"":a}function g(a,c){c=!1!==c;if(a){for(var b=q;a--&&b.parent;)b=
b.parent;b.redraw(0,!0);return b.vm}(b=q.node)&&d(q,"willRedraw",q);var D=q.refs;q.refs={};q.body=[];var h=q.render.call(q.api,q,k,l),f;if(!1===h||(f=p(h,y,e,q,!0))&&C(b,f))return b.moved=!0,b.wasSame=!0,q.refs=D,q;f.vm=q;q.node=f;D=m.isVal(l)&&"^"===l[0]?l.substr(1):m.isVal(f.ref)&&"^"===f.ref[0]?f.ref.substr(1):null;f.key=null!=l?l:f.key;for(h=y;h;)h.vm&&(q.parent||(q.parent=h.vm,h.vm.body.push(q)),null!==D&&m.deepSet(h.vm.refs,D,f)),h=h.parent;if((D=b)&&(f.type!==b.type||f.tag!==b.tag))var D=null,
O=!0,u=b.el.parentNode;z(f,D);y&&(y.body[e]=f);c&&(b&&n(b),!b&&A||r(f,null,f.el),O&&((u||f.parent.el).insertBefore(f.el,u.childNodes[b.idx]),q.node=f));b&&d(q,"didRedraw",q);c&&b&&H.length&&t(f);return q}var A=!y;m.isArr(a)&&(k=a[1],l=a[2],b=a[3],a=a[0]);l=v(k,l);var q={api:{},node:null,ident:[a,l],model:k,opts:b||{},render:null,update:function(a,e){null==a||l===k&&!m.isVal(l)||(d(q,"willUpdate",q,a),k=q.model=a);return!1!==e?g(0):q},on:function(a,k){h(q.events,a,k)},hook:function(a,k){q.hooks=q.hooks||
{};h(q.hooks,a,k)},events:{},hooks:null,redraw:G.debounce?m.raft(g):g,patch:function(a,k){var e=null!=a.el;if(m.isObj(k)){a.props=a.props||{};var l="class"in k?(u(a["class"])+" "+u(k["class"])).trim():a.props["class"],b="style"in k?k.style:a.props.style;e&&(e=Object.create(a.props),e["class"]=l,e.style=b,e={tag:a.tag,el:a.el,ns:a.ns,props:e},I(e,a));a.props["class"]=l;a.props.style=b}else l=a.parent,e=z(p(k,l,a.idx,q),a),l.body[a.idx]=e},emit:function(a){for(var k=Array.prototype.slice.call(arguments),
e=q,l;e;){if(l=e.events[a]){k[0]=l;m.execAll.apply(null,k);break}e=e.parent}},refs:{},parent:null,body:[],mount:function(a,k){var e=null;k&&(a.textContent="",e=a,a=null);r(q.node,e,null,a);t(q.node);return q},attach:function(a){c(q.node,a);return q},unmount:function(){n(q.node)},moveTo:f,updIdx:function(a){e=a}};b&&b.hooks&&q.hook(b.hooks);m.execAll(F,q);q.render=a.call(q.api,q,k,l);return y?f(y,e):g(0)}function c(a,k){a.el=k;k._node=a;for(var l in a.props){var b=a.props[l],y=m.isEvProp(l)?l:"."===
l[0]?l.substr(1):null;null!==y&&(k[y]=b)}if(m.isArr(a.body))for(l=0;l<a.body.length;l++)c(a.body[l],k.childNodes[l])}function d(a,k,l,b,y,e){if(a&&a.hooks&&(a=a.hooks[k]))if("did"==k.substr(0,3))H.push([m.execAll,a,l,b,y,e]);else return m.execAll(a,l,b,y,e)}function n(a,k){var l=a.el&&!a.moved;if(l){var c=d(a.vm,"willUnmount",a.vm),y=d(a,"willRemove",a),e=c||y;a.removed=!0}a.wasSame?a.wasSame=!1:(m.isArr(a.body)&&a.body.forEach(function(a,l){n(a,k||e)}),k||(e?e.then(function(){b(a,l,!0)}):b(a,l)));
a.moved=!1}function b(a,k,l){null!=a.el&&a.el.parentNode?k&&(a.el.parentNode.removeChild(a.el),a.el=null,f(a),d(a.vm,"didUnmount",a.vm),d(a,"didRemove",a),l&&t(a.parent)):f(a)}function p(a,k,l,b,y){var e=a;a=0<J.length?J.pop():{type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null,data:null,diff:null};m.isFunc(e)&&(e=e());var c=e.length;if(m.isArr(e)&&c){a.type=m.TYPE_ELEM;if(1<
c){var f=1;!m.isObj(e[1])||e[1].redraw||m.isElem(e[1])||(a.props=e[1],f=2);a.body=c==f+1?m.isVal(e[f])?e[f]:m.isFunc(e[f])?e[f]():e.slice(f):e.slice(f)}e=e[0];c=M[e];c||(c=["",""],c={tag:(e.match(/^[-\w]+/)||["div"])[0],id:(e.match(/#([-\w]+)/)||c)[1],"class":(e.match(/\.([-\w.]+)/)||c)[1].replace(/\./g," ")},M[e]=c);a.tag=c.tag;if(c.id||c["class"])e=a.props||{},c.id&&null==e.id&&(e.id=c.id),c["class"]&&(a["class"]=c["class"],e["class"]=c["class"]+(null!=e["class"]?" "+e["class"]:"")),a.props=e;if(a.props){var e=
a.props,h;for(h in e)!m.isEvProp(h)&&m.isFunc(e[h])&&("href"==h?(e.onclick=e[h],e.href=e[h].href):e[h]=e[h]()),m.isDynProp(a.tag,h)&&(e["."+h]=e[h]);if(m.isObj(e.style))for(var p in e.style)h=e.style[p],m.isFunc(h)&&(e.style[p]=h());m.isObj(e._hooks)&&(a.hooks=e._hooks,e._hooks=null);a.key=m.isVal(e._key)?e._key:m.isVal(e._ref)?e._ref:m.isVal(e.id)?e.id:m.isVal(e.name)?e.name:null;null!=e._ref&&(a.ref=e._ref);e._raw&&(a.raw=!0);null!=e._data&&(a.data=e._data);e._diff&&(a.diff=e._diff);e._ref=e._key=
e._raw=e._data=e._diff=null}}else m.isVal(e)?(a.type=m.TYPE_TEXT,a.body=e):m.isElem(e)&&(a.type=m.TYPE_ELEM,a.el=e,a.tag=e.nodeName.toLowerCase());null!==a.ref&&m.deepSet(b.refs,a.ref,a);a.parent=k;a.idx=l;a.ns=k&&k.ns?k.ns:"svg"===a.tag||"math"===a.tag?a.tag:null;y||a.diff||!m.isArr(a.body)||u(a,b);return a}function u(a,k){for(var l=0,c=a.body.length;l<c;l++){var b=a.body[l],e=null,f=null,h=!1,d=!1;m.isFunc(b)&&(b=b());if(null==b)h=!0;else{var n=m.isArr(b),u=n?!1:m.isObj(b);if(n)b.length?b._expl?
d=!0:"string"==typeof b[0]&&""!==b[0]?(f=p(b,a,l,k),e=f.key):m.isFunc(b[0])?e=v(b[1],b[2]):d=!0:h=!0;else if(u)if(m.isFunc(b.redraw))b.moveTo(a,l),f=b.node,e=b.ident[1];else if(m.isElem(b))f=p(b,a,l,k);else{a.body[l--]=""+b;continue}else""===b?h=!0:0<l&&a.body[l-1].type===m.TYPE_TEXT?(a.body[l-1].body+=""+b,h=!0):f=p(""+b,a,l,k)}h||d?(d?m.insertArr(a.body,b,l,1):a.body.splice(l,1),c=a.body.length,l--):(null!==e&&(a.hasKeys=!0),a.body[l]=f||b)}a.body._init=!0}function z(a,k){if(C(k,a))return k.moved=
!0,k.wasSame=!0,k;k&&(d(a,"willRecycle",k,a),A(k,a),d(a,"didRecycle",k,a));if(m.isArr(a.body)){if(!a.body._init){for(var b=a;!b.vm;)b=b.parent;u(a,b.vm)}var c=0;a.body.forEach(function(b,e){var l=m.isArr(b);if(k){var f=B(b,a,k,c);if(null!==f){var h=f[0],f=f[1];h===c&&c++;h=k.body[h];h.vm?l?2===f?h.vm.moveTo(a,e,b[1]):1===f&&g(b[0],b[1],b[2],b[3],a,e):b.vm&&2===f&&b.vm===h.vm&&h.vm.moveTo(a,e):a.body[e]=z(b,h);return}}l?g(b[0],b[1],b[2],b[3],a,e):a.body[e]=z(b)})}return a}function r(a,k,b,c){for(var f=
!a.el;b&&b._node.removed;)b=b.nextSibling;f&&a.vm&&d(a.vm,"willMount",a.vm);if(a.type==m.TYPE_ELEM)if(f&&(a.el=k||(a.ns?K.createElementNS(P[a.ns],a.tag):K.createElement(a.tag)),a.props&&I(a)),m.isArr(a.body)){k=0;for(var e=a.el.firstChild;k<a.body.length;k++)e=r(a.body[k],null,e)}else m.isVal(a.body)&&(a.raw?a.el.innerHTML=a.body:f&&(a.el.textContent=a.body));else a.type==m.TYPE_TEXT&&f&&(a.el=K.createTextNode(a.body));a.el._node=a;k=a.parent;b!==a.el&&(c||k&&k.el)&&(k=f?"Insert":"Reinsert",d(a,"will"+
k,a),(c||a.parent.el).insertBefore(a.el,b),d(a,"did"+k,a));f&&a.vm&&a.vm.hooks&&!a.moved&&d(a.vm,"didMount",a.vm);return b!==a.el?b:b.nextSibling}function B(a,k,b,c,f){var e=m.isArr(a),h=e?v(a[1],a[2]):a.key,d=b.hasKeys,p=k.hasKeys;b=b.body;k=k.body;if(null!==h&&d)return a=m.keyedIdx(h,b,e?a[0]:null),-1<a?[a,2]:null;c=c||0;if(c>b.length-1)return null;f=0===f?0:f||b.length-1;for(h=null;c<=f;c++)if(d=b[c],null!==d&&d.el)if(e&&d.vm){if(d.vm.ident[0]===a[0]){if(d.vm.ident[1]===v(a[1],a[2]))return[c,2];
!h&&p&&-1==m.keyedIdx(d.key,k,d.vm.ident[0])&&(h=[c,1])}}else if(a.type===d.type&&(a.type===m.TYPE_TEXT||null!==a.tag&&a.tag===d.tag)&&(null===d.key||!p||-1==m.keyedIdx(d.key,k,d.vm?d.vm.ident[0]:null)))return[c,1];return h}function C(a,b){if(a&&a.diff&&b.diff&&a.diff[0]===b.diff[0]){var c=a.diff.slice(1).concat(b.diff.slice(1));return!b.diff[0].apply(null,c)}return!1}function A(a,b){if(a.el)if(b.el=a.el,a.el=null,b.el&&(b.el._node=b),b.type===m.TYPE_TEXT&&b.body!==a.body)b.el.nodeValue=b.body;else{I(b,
a);var c=!m.isArr(b.body),f=!m.isArr(a.body);c&&b.body!==a.body?f&&b.el.firstChild?b.el.firstChild.nodeValue=b.body:b.raw?b.el.innerHTML=b.body:b.el.textContent=b.body:f&&!c&&(b.el.textContent="");a.moved=!0}}function f(a){a.removed&&a.vm&&(a.vm.node=null);a.el=a.key=a.ref=a.data=a.diff=a.vm=a.body=a.props=null;a.raw=a.moved=a.wasSame=a.removed=!1;J.push(a)}function h(a,b,c,f){return function(c){var e,h=c.target._node,l=null;if(m.isFunc(a))e=a.call(b,c,h,f);else if(m.isArr(a))l=a.slice(1),e=a[0].apply(b,
l.concat(c,h,f));else if(m.isObj(a))for(var d in a){var p=a[d];null!=p&&"_"!=d[0]&&c.target.matches(d)&&(m.isArr(p)?(l=p.slice(1),e=p[0].apply(b,l.concat(c,h,f))):m.isFunc(p)&&(e=p.call(b,c,h,f)))}!1===e&&(c.preventDefault(),c.stopPropagation());f.opts.hasOwnProperty("watch")&&f.opts.watch.fire({type:"event",vm:f,node:h,event:c,data:l})}}function I(a,b){var c=!b;b=b||{};if(b.props||a.props){var f=b.props||{},h=a.props||{},e=f.style,d=h.style;if(m.isObj(e)||m.isObj(d))N(a.el,a.tag,e||{},d||{},x,Q,
a.ns,c,a),f.style=h.style=null;N(a.el,a.tag,f,h,L,E,a.ns,c,a);d&&(h.style=d)}}function N(a,b,c,f,h,e,d,p,n){for(var u in f)if(b=f[u],null!==b){var g="."===u[0]?a[u.substr(1)]:c[u];b===g||m.isArr(b)&&m.isArr(g)&&m.cmpArr(b,g)||h(a,u,b,d,p,n)}for(u in c)null!==c[u]&&null==f[u]&&e(a,u,d,p)}function x(a,b,c){a.style[b]=m.autoPx(b,c)}function Q(a,b){a.style[b]=""}function L(a,b,c,f,d,e){if("."===b[0])b=b.substr(1),"svg"===f?a[b].baseVal=c:a[b]=c;else if("class"===b)a.className=c;else if("id"===b)a[b]=
c;else if(m.isEvProp(b)){for(f=e;!f.vm;)f=f.parent;a[b]=h(c,f.vm.opts.evctx||f.vm.model||null,e,f.vm)}else!1===c?E(a,b,f,d):a.setAttribute(b,!0===c?"":c)}function E(a,b,c,f){f||("."===b[0]?(b=b.substr(1),"svg"===c?a[b].baseVal=null:a[b]=null):"class"===b?a.className="":"id"===b||m.isEvProp(b)?a[b]=null:a.removeAttribute(b))}var P={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},K="undefined"==typeof document?{}:document,M={},J=[],H=[],G={debounce:!0,repaint:!0};w.view=
g;w.view.config=function(a){for(var b in a)G[b]=a[b]};var F=null;w.view.extend=function(a,b){F=!F||b?[]:F;F.push(a)};var m=w.utils;return w})(domvm);(function(w){var t=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,v=w.utils;w.html=function(g){var c="";switch(g.type){case v.TYPE_ELEM:c+="<"+g.tag;if(g.props){var d=v.isVal(g.props.style)?g.props.style:"",n=v.isObj(g.props.style)?g.props.style:null;if(n)for(var b in n)null!==n[b]&&(d+=v.camelDash(b)+": "+v.autoPx(b,n[b])+"; ");for(b in g.props)v.isEvProp(b)||"."===b[0]||(n=g.props[b],v.isFunc(n)&&(n=n()),v.isObj(n)||(!0===n?c+=" "+b:!1!==n&&null!==n&&
"."!==b[0]&&(c+=" "+b+'="'+n+'"')));d.length&&(c+=' style="'+d.trim()+'"')}if(g.ns&&"svg"!==g.tag&&"math"!==g.tag&&!g.body)return c+"/>";c+=">";break;case v.TYPE_TEXT:return g.body}t.test(g.tag)||(v.isArr(g.body)?g.body.forEach(function(b){c+=w.html(b)}):c+=g.body||"",c+="</"+g.tag+">");return c}})(domvm);(function(w){var t=w.utils;w.watch=function(v){function g(){}function c(b,c,d,g,r){r=r||{};r.method=b.toUpperCase();"credentials"in r||(r.credentials="same-origin");null!==d&&(t.isArr(d)||t.isObj(d)?(r.headers=r.headers||new Headers,r.headers.set("Content-Type","application/json"),r.body=JSON.stringify(d)):r.body=""+d);var B=g,C=function(b){return Promise.reject(b)};g instanceof Array&&(B=g[0],g[1]&&(C=g[1]));var A={type:"fetch",fetch:{method:b,url:c,body:d}};g=fetch(c,r).then(function(b){if(200<=
b.status&&300>b.status)return b;var c=Error(b.status+": "+b.statusText);c.data=b;return Promise.reject(c)}).then(function(b){switch(b.headers.get("Content-Type").split("; ")[0]){case "application/json":return b.json();case "text/plain":return b.text();default:return b}}).then(B,C).then(function(b){!1!==b&&n.fire(A);return b},function(b){A.error=b;n.fire(A);return Promise.reject(b)});g._fetchArgs=[b,c,d,[B,C],r];return g}var d=[];t.isFunc(v)&&d.push(v);var n={on:function(b){d.push(b);return n},off:function(b){d.splice(d.indexOf(b),
1);return n},fire:t.raft(function(b){t.execAll(d,b);return n}),prop:function(b,d,u){var z=b,r=function(b,c,f){if(arguments.length&&b!==z){f=f||{type:"prop",prop:r,data:{old:z,"new":b}};u&&(b=u(f));if("undefined"==typeof b||b===z)return z;z=f.data["new"]=b;t.isFunc(c)?c(f):!1!==c&&n.fire(f)}return z};r._prop=!0;if(d&&d.then){r.update=g;if(d._fetchArgs){var B=d._fetchArgs[3];d._fetchArgs[3]=[function(b){return r(B[0]?B[0](b):b)},B[1]];r.update=function(){c.apply(null,d._fetchArgs)}}d.then(r)}return r.toString=
r},sync:function(b,c,d){var g=b,r=c;t.isFunc(g)||(g=function(c,d,g){if("string"==typeof b){var f,h;"e."==b.substr(0,2)?(f=c,h=b.substr(2)):(f=c.target,h=b)}return t.deepGet(f,h)});t.isArr(r)&&(r=function(b,d,g){var f=c[0],h=c[1];t.isFunc(h)&&(h=h(g.event,g.node,g.vm));var u=t.deepGet(f,h);b!==u&&(t.deepSet(f,h,b,d,g),t.isFunc(d)?d(g):!1!==d&&n.fire(g))});return function(b,c,n){var f={type:"sync",vm:n,node:c,event:b};r(g(b,c,n),d,f)}},fetch:c,get:function(b,d,g){g?b+=n.query(d):g=d;return c("get",
b,null,g)},"delete":function(b,d,g){g?b+=n.query(d):g=d;return c("delete",b,null,g)},post:function(b,d,g){return c("post",b,d,g)},put:function(b,d,g){return c("put",b,d,g)},patch:function(b,d,g){return c("patch",b,d,g)},query:function(b){if(!t.isObj(b))return"";var c=[],d=encodeURIComponent,g;for(g in b)c.push(d(g)+"="+d(b[g]));return c.length?"?"+c.join("&"):""}};return n}})(domvm);(function(w){function t(b,c,d,g,n,p){var f=null,h=null,t=null;if("/"==d[0]){t=d;h=!1;g={};p=t.split("#");c=p[0].split("?");f=c[0];p=p[1];c[1]&&(n={},c[1].split("&").map(function(b){b=b.split("=");n[b[0]]=null==b[1]?!0:b[1]}));var v,x;for(x in b){d=b[x];var w=d.path;if(v=f.match(d.regexPath)){h=x;-1!==w.indexOf(":")&&(g={},v.shift(),w.replace(/:([^\/]+)/g,function(b,c){g[c]=v.shift()}));break}}}else{h=d;d=b[h];var w=c+d.path,L=d.vars||{},t=-1!==w.indexOf(":")?f=w.replace(/:([^\/]+)/g,function(b,c){if((L[c]||
/^[^\/]+$/).test(g[c]))return g[c]+="";throw Error("Invalid value for route '"+w+"' segment '"+c+"': '"+g[c]+"'");}):f=w;if(n){var t=t+"?",E;for(E in n)t+=E+(!0!==n[E]?"="+n[E]:"")+"&";t=t.slice(0,-1)}t+=p?"#"+p:""}return{href:t,name:h,path:f,segs:g,hash:p,query:n}}function v(b,c){for(var d in b){var g=b[d];g.regexPath=new RegExp("^"+c+g.path.replace(/:([^\/]+)/g,function(b,c){var d=""+((g.vars||{})[c]||/[^\/]+/);return"("+d.substring(1,d.lastIndexOf("/"))+")"})+"$")}}var g=[],c=null,d=!1,n=null,
b=null,p="";w.route=function(u,w){function r(){var b=location,b=d?b.href.substr(b.origin.length):b.hash.substr(1)||"/";return t(A,p,b)}var B=null,C={href:function(b,c,f,g,n){var r=t(A,p,b,c,f,g);return d?(b=function(b){C["goto"](r,null,null,null,n);b.preventDefault()},b.href=r.href,b):"#"+r.href},config:function(c){(d=c.useHist)&&(p=c.root||"");n=c.willEnter||null;b=c.willExit||null;B=c.init||null},refresh:function(){C["goto"](r(),null,null,null,!0)},"goto":function(h,r,u,x,w){h.href||(h=t(A,p,h,
r,u,x));if(!1===h.name)console.log("Could not find route");else{r=null;for(x=0;x<g.length;x++)if(g[x].href===h.href){r=x;break}null===r&&(g.splice(c+1,1E4),g.push(h),r=g.length-1);h=g[c];x=g[r];var v=!0;u=!0;null!==c&&(b&&(v=b(h,x)),!1!==v&&(v=(v=A[h.name].onexit)?v.apply(null,(h?[h.segs,h.query,h.hash]:[]).concat(x)):!0));!1!==v&&(n&&(u=n(x,h)),!1!==u&&(u=A[x.name].onenter.apply(null,(x?[x.segs,x.query,x.hash]:[]).concat(h))),!1!==u&&(d?(f=!0,history[w?"replaceState":"pushState"](null,"title",x.href)):
(x="#"+x.href,location.hash!==x&&(f=!0,w?location.replace(x):location.hash=x)),c=r))}},location:function(){return null==c?r():g[c]}},A=u(C,w);v(A,p);var f=!1;window.onhashchange=window.onpopstate=function(b){if(d||"popstate"!=b.type)!d&&f?f=!1:C["goto"](r(),null,null,null,!0)};B&&B();return C}})(domvm);
