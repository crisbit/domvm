/*
 https://github.com/leeoniya/domvm (1.1.0)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var u=("undefined"==typeof window?{}:window).requestAnimationFrame,t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},n={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(c){return c instanceof Array},isVal:function(c){c=typeof c;return"string"===c||"number"===c},isObj:function(c){return"object"===typeof c&&null!==c&&!n.isArr(c)},isFunc:function(c){return"function"===typeof c},isProm:function(c){return"object"===typeof c&&n.isFunc(c.then)},isElem:function(c){return c instanceof HTMLElement},execAll:function(c,f,g,a,h,x){var p;c&&(n.isArr(c)?c:[c]).forEach(function(c){p=c.call(null,f,g,a,h,x)});return p},tick:function(c,f){f&&u?u&&u(function(){n.tick(c,
f-1)}):n.isArr(c)?c[0].apply(null,c.slice(1)):c()},insertArr:function(c,f,g,a){c.splice.apply(c,[g,a].concat(f))},isEvProp:function(c){return"on"===c.substr(0,2)},isDynProp:function(c,f){switch(c){case "input":case "textarea":case "select":case "option":switch(f){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(c,f){return isNaN(f)||t[c]?f:f+"px"},cmpArr:function(c,f){var g=
c.length;if(g!=f.length)return!1;for(;g--;)if(c[g]!==f[g])return!1;return!0},deepSet:function(c,f,g,a,h,x){f=f.split(".");var p=f.pop();f.forEach(function(a){c[a]||(c[a]={});c=c[a]});if(n.isFunc(c[p]))c[p](g,a,h,x);else c[p]=g},deepGet:function(c,f){var g=f.split(".");do c=c[g.shift()];while(g.length);return c},keyedIdx:function(c,f,g,a,h){for(a=0;a<f.length;a++)if(h=f[a],h.key===c)if(g){if(h.vm&&h.vm.view[0]===g)return a}else return a;return-1},raft:function(c){function f(){g=0;c.apply(a,h)}if(!u)return c;
var g,a,h;return function(){a=this;h=arguments;g||(g=u(f))}}};w.utils=n})(domvm);(function(w){function u(){for(var b;b=K.pop();)b[0].apply(null,b.slice(1))}function t(b,k){return!1===k?null:null==k&&null!=b?b:l.isVal(k)||l.isObj(k)||l.isArr(k)||l.isFunc(k)?k:null}function n(b,k,q,a,y,e){function m(b,k,e){if(e)b[k]=b[k]||[],b[k].push(e);else for(var q in k)b[q]=b[q]||[],b[q].push(k[q])}function d(b,k,q){y=b;e=k;r.update(q,!1);null!=r.node&&(y.body[e]=r.node);return n(0,!1)}function x(b){return null==b?"":b}function n(b,c){if(b){for(var a=r;b--&&a.parent;)a=a.parent;a.redraw(0,
!0);return a.vm}(a=r.node)&&f(r,"willRedraw",r);var m=r.refs;r.refs={};var B=r.render.call(r.api,r,k,q),d;if(!1===B||(d=h(B,y,e,r,!0))&&z(a,d))return a.moved=!0,a.wasSame=!0,r.refs=m,r;d.vm=r;r.node=d;m=l.isVal(q)&&"^"===q[0]?q.substr(1):l.isVal(d.ref)&&"^"===d.ref[0]?d.ref.substr(1):null;d.key=null!=q?q:d.key;for(B=y;B;)B.vm&&(r.parent||(r.parent=B.vm),null!==m&&l.deepSet(B.vm.refs,m,d)),B=B.parent;if((m=a)&&(d.type!==a.type||d.tag!==a.tag))var m=null,x=!0,L=a.el.parentNode;p(d,m);y&&(y.body[e]=
d);!1!==c&&(a&&g(a),!a&&A||v(d,null,d.el),x&&(L||d.parent.el).insertBefore(d.el,L.childNodes[a.idx]));a&&f(r,"didRedraw",r);!1!==c&&l.tick(u,2);return r}var A=!y;l.isArr(b)&&(k=b[1],q=b[2],a=b[3],b=b[0]);q=t(k,q);var r={api:{},node:null,view:[b,q],model:k,opts:a||{},render:null,update:function(b,e){null==b||q===k&&!l.isVal(q)||(k=r.model=b);return!1!==e?n(0):r},on:function(b,k){m(r.events,b,k)},hook:function(b,k){r.hooks=r.hooks||{};m(r.hooks,b,k)},events:{},hooks:null,redraw:G.useRaf?l.raft(n):n,
patch:function(b,k){var e=null!=b.el;if(l.isObj(k)){var q="class"in k?(x(b["class"])+" "+x(k["class"])).trim():b.props["class"],a="style"in k?k.style:b.props.style;e&&(e=Object.create(b.props),e["class"]=q,e.style=a,e={tag:b.tag,el:b.el,ns:b.ns,props:e},D(e,b));b.props["class"]=q;b.props.style=a}else q=b.parent,e=p(h(k,q,b.idx,r),b),q.body[b.idx]=e},emit:function(b){for(var k=Array.prototype.slice.call(arguments),e=r,q;e;){if(q=e.events[b]){k[0]=q;l.execAll.apply(null,k);break}e=e.parent}},refs:{},
parent:null,mount:function(b,k){var e=null;k&&(b.textContent="",e=b,b=null);v(r.node,e,null,b);return r},attach:function(b){c(r.node,b);return r},unmount:function(){g(r.node)},moveTo:d,updIdx:function(b){e=b}};a&&a.hooks&&r.hook(a.hooks);l.execAll(F,r);r.render=b.call(r.api,r,k,q);return y?d(y,e):n(0)}function c(b,k){b.el=k;k._node=b;for(var q in b.props){var a=b.props[q],y=l.isEvProp(q)?q:"."===q[0]?q.substr(1):null;null!==y&&(k[y]=a)}if(l.isArr(b.body))for(q=0;q<b.body.length;q++)c(b.body[q],k.childNodes[q])}
function f(b,k,q,a,c,e){if(b&&b.hooks&&(b=b.hooks[k]))if(G.useRaf&&"did"==k.substr(0,3))K.push([l.execAll,b,q,a,c,e]);else return l.execAll(b,q,a,c,e)}function g(b,k){var q=b.el&&!b.moved;if(q){var c=f(b.vm,"willUnmount",b.vm),y=f(b,"willRemove",b),e=c||y;b.removed=!0}b.wasSame?b.wasSame=!1:(l.isArr(b.body)&&b.body.forEach(function(b,q){g(b,k||e)}),k||(e?e.then(function(){a(b,q)}):a(b,q)));b.moved=!1}function a(b,k){null!=b.el&&b.el.parentNode&&(k&&(b.el.parentNode.removeChild(b.el),b.el=null,f(b.vm,
"didUnmount",b.vm),f(b,"didRemove",b)),l.isArr(b.body)&&b.body.forEach(function(b,k){a(b,!b.moved)}))}function h(b,k,q,a,c){var e=b;b={type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null};l.isFunc(e)&&(e=e());var d=e.length;if(l.isArr(e)&&d){b.type=l.TYPE_ELEM;if(1<d){var m=1;l.isObj(e[1])&&!l.isElem(e[1])&&(b.props=e[1],m=2);b.body=d==m+1?l.isVal(e[m])?e[m]:l.isFunc(e[m])?
e[m]():e.slice(m):e.slice(m)}e=e[0];d=M[e];d||(d=["",""],d={tag:(e.match(/^[-\w]+/)||["div"])[0],id:(e.match(/#([-\w]+)/)||d)[1],"class":(e.match(/\.([-\w.]+)/)||d)[1].replace(/\./g," ")},M[e]=d);b.tag=d.tag;if(d.id||d["class"])e=b.props||{},d.id&&null==e.id&&(e.id=d.id),d["class"]&&(b["class"]=d["class"],e["class"]=d["class"]+(null!=e["class"]?" "+e["class"]:"")),b.props=e;if(b.props){var e=b.props,h;for(h in e)!l.isEvProp(h)&&l.isFunc(e[h])&&("href"==h?(e.onclick=e[h],e.href=e[h].href):e[h]=e[h]()),
l.isDynProp(b.tag,h)&&(e["."+h]=e[h]);if(l.isObj(e.style))for(var f in e.style)h=e.style[f],l.isFunc(h)&&(e.style[f]=h());l.isObj(e._hooks)&&(b.hooks=e._hooks,e._hooks=null);b.key=l.isVal(e._key)?e._key:l.isVal(e._ref)?e._ref:l.isVal(e.id)?e.id:l.isVal(e.name)?e.name:null;null!=e._ref&&(b.ref=e._ref);e._raw&&(b.raw=!0);null!=e._data&&(b.data=e._data);e._diff&&(b.diff=e._diff);e._ref=e._key=e._raw=e._data=e._diff=null}}else l.isVal(e)?(b.type=l.TYPE_TEXT,b.body=e):l.isElem(e)&&(b.type=l.TYPE_ELEM,
b.el=e,b.tag=e.nodeName.toLowerCase());null!==b.ref&&l.deepSet(a.refs,b.ref,b);b.parent=k;b.idx=q;b.ns=k&&k.ns?k.ns:"svg"===b.tag||"math"===b.tag?b.tag:null;c||b.diff||!l.isArr(b.body)||x(b,a);return b}function x(b,k){for(var a=0,c=b.body.length;a<c;a++){var d=b.body[a],e=null,m=null,f=!1,x=!1;l.isFunc(d)&&(d=d());if(null==d)f=!0;else{var g=l.isArr(d),p=g?!1:l.isObj(d);if(g)d.length?"string"==typeof d[0]&&""!==d[0]?(m=h(d,b,a,k),e=m.key):l.isFunc(d[0])?e=t(d[1],d[2]):x=!0:f=!0;else if(p)if(l.isFunc(d.redraw))d.moveTo(b,
a),m=d.node,e=d.view[1];else if(l.isElem(d))m=h(d,b,a,k);else{b.body[a--]=""+d;continue}else""===d?f=!0:0<a&&b.body[a-1].type===l.TYPE_TEXT?(b.body[a-1].body+=""+d,f=!0):m=h(""+d,b,a,k)}f||x?(x?l.insertArr(b.body,d,a,1):b.body.splice(a,1),c=b.body.length,a--):(null!==e&&(b.hasKeys=!0),b.body[a]=m||d)}b.body._init=!0}function p(b,k){if(z(k,b))return k.moved=!0,k.wasSame=!0,k;k&&(f(b,"willRecycle",k,b),d(k,b),f(b,"didRecycle",k,b));if(l.isArr(b.body)){if(!b.body._init){for(var a=b;!a.vm;)a=a.parent;
x(b,a.vm)}var c=0;b.body.forEach(function(a,e){var d=l.isArr(a);if(k){var q=A(a,b,k,c);if(null!==q){var m=q[0],q=q[1];m===c&&c++;m=k.body[m];m.vm?d?2===q?m.vm.moveTo(b,e,a[1]):1===q&&n(a[0],a[1],a[2],a[3],b,e):a.vm&&2===q&&a.vm===m.vm&&m.vm.moveTo(b,e):b.body[e]=p(a,m);return}}d?n(a[0],a[1],a[2],a[3],b,e):b.body[e]=p(a)})}return b}function v(b,k,a,d){for(var c=!b.el;a&&a._node.removed;)a=a.nextSibling;c&&f(b.vm,"willMount",b.vm);if(b.type==l.TYPE_ELEM)if(c&&(b.el=k||(b.ns?H.createElementNS(O[b.ns],
b.tag):H.createElement(b.tag)),b.props&&D(b)),l.isArr(b.body)){k=0;for(var e=b.el.firstChild;k<b.body.length;k++)e=v(b.body[k],null,e)}else l.isVal(b.body)&&(b.raw?b.el.innerHTML=b.body:c&&(b.el.textContent=b.body));else b.type==l.TYPE_TEXT&&c&&(b.el=H.createTextNode(b.body));b.el._node=b;k=b.parent;a!==b.el&&(d||k&&k.el)&&(k=c?"Insert":"Reinsert",f(b,"will"+k,b),(d||b.parent.el).insertBefore(b.el,a),f(b,"did"+k,b));c&&b.vm&&b.vm.hooks&&!b.moved&&f(b.vm,"didMount",b.vm);return a!==b.el?a:a.nextSibling}
function A(b,k,a,d,c){var e=l.isArr(b),m=e?t(b[1],b[2]):b.key,h=a.hasKeys,f=k.hasKeys;a=a.body;k=k.body;if(null!==m&&h)return b=l.keyedIdx(m,a,e?b[0]:null),-1<b?[b,2]:null;d=d||0;if(d>a.length-1)return null;c=0===c?0:c||a.length-1;for(m=null;d<=c;d++)if(h=a[d],null!==h&&h.el)if(e&&h.vm){if(h.vm.view[0]===b[0]){if(h.vm.view[1]===t(b[1],b[2]))return[d,2];!m&&f&&-1==l.keyedIdx(h.key,k,h.vm.view[0])&&(m=[d,1])}}else if(b.type===h.type&&(b.type===l.TYPE_TEXT||null!==b.tag&&b.tag===h.tag)&&(null===h.key||
!f||-1==l.keyedIdx(h.key,k,h.vm?h.vm.view[0]:null)))return[d,1];return m}function z(b,a){if(b&&b.diff&&a.diff&&b.diff[0]===a.diff[0]){var d=b.diff.slice(1).concat(a.diff.slice(1));return!a.diff[0].apply(null,d)}return!1}function d(b,a){a.el=b.el;b.el=null;a.el&&(a.el._node=a);if(a.type===l.TYPE_TEXT&&a.body!==b.body)a.el.nodeValue=a.body;else{D(a,b);var d=!l.isArr(a.body),c=!l.isArr(b.body);d&&a.body!==b.body?c&&a.el.firstChild?a.el.firstChild.nodeValue=a.body:a.raw?a.el.innerHTML=a.body:a.el.textContent=
a.body:c&&!d&&(a.el.textContent="");b.moved=!0}}function m(b,a,d,c){return function(d){var e,m=d.target._node,h=null;if(l.isFunc(b))e=b.call(a,d,m,c);else if(l.isArr(b))h=b.slice(1),e=b[0].apply(a,h.concat(d,m,c));else if(l.isObj(b))for(var q in b){var f=b[q];null!=f&&"_"!=q[0]&&d.target.matches(q)&&(l.isArr(f)?(h=f.slice(1),e=f[0].apply(a,h.concat(d,m,c))):l.isFunc(f)&&(e=f.call(a,d,m,c)))}!1===e&&(d.preventDefault(),d.stopPropagation());c.opts.hasOwnProperty("watch")&&c.opts.watch.fire({type:"event",
vm:c,node:m,event:d,data:h})}}function D(b,a){var d=!a;a=a||{};if(a.props||b.props){var c=a.props||{},m=b.props||{},e=c.style,h=m.style;if(l.isObj(e)||l.isObj(h))N(b.el,b.tag,e||{},h||{},C,I,b.ns,d,b),c.style=m.style=null;N(b.el,b.tag,c,m,J,E,b.ns,d,b);h&&(m.style=h)}}function N(b,a,d,c,m,e,h,f,x){for(var g in c)if(a=c[g],null!==a){var p="."===g[0]?b[g.substr(1)]:d[g];a===p||l.isArr(a)&&l.isArr(p)&&l.cmpArr(a,p)||m(b,g,a,h,f,x)}for(g in d)null!==d[g]&&null==c[g]&&e(b,g,h,f)}function C(b,a,d){b.style[a]=
l.autoPx(a,d)}function I(b,a){b.style[a]=""}function J(b,a,d,c,h,e){if("."===a[0])a=a.substr(1),"svg"===c?b[a].baseVal=d:b[a]=d;else if("class"===a)b.className=d;else if("id"===a)b[a]=d;else if(l.isEvProp(a)){for(c=e;!c.vm;)c=c.parent;b[a]=m(d,c.vm.opts.evctx||c.vm.model||null,e,c.vm)}else!1===d?E(b,a,c,h):b.setAttribute(a,!0===d?"":d)}function E(b,a,d,c){c||("."===a[0]?(a=a.substr(1),"svg"===d?b[a].baseVal=null:b[a]=null):"class"===a?b.className="":"id"===a||l.isEvProp(a)?b[a]=null:b.removeAttribute(a))}
var O={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},H="undefined"==typeof document?{}:document,M={},K=[],G={useRaf:!0};w.view=n;w.view.config=function(b){G=b};var F=null;w.view.extend=function(b,a){F=!F||a?[]:F;F.push(b)};var l=w.utils;return w})(domvm);(function(w){var u=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,t=w.utils;w.html=function(n){var c="";switch(n.type){case t.TYPE_ELEM:c+="<"+n.tag;if(n.props){var f=t.isVal(n.props.style)?n.props.style:"",g=t.isObj(n.props.style)?n.props.style:null;if(g)for(var a in g)null!==g[a]&&(f+=t.camelDash(a)+": "+t.autoPx(a,g[a])+"; ");for(a in n.props)t.isEvProp(a)||"."===a[0]||(g=n.props[a],t.isFunc(g)&&(g=g()),t.isObj(g)||(!0===g?c+=" "+a:!1!==g&&null!==g&&
"."!==a[0]&&(c+=" "+a+'="'+g+'"')));f.length&&(c+=' style="'+f.trim()+'"')}if(n.ns&&"svg"!==n.tag&&"math"!==n.tag&&!n.body)return c+"/>";c+=">";break;case t.TYPE_TEXT:return n.body}u.test(n.tag)||(t.isArr(n.body)?n.body.forEach(function(a){c+=w.html(a)}):c+=n.body||"",c+="</"+n.tag+">");return c}})(domvm);(function(w){var u=w.utils;w.watch=function(t){function n(){}function c(a,c,f,p,v){v=v||{};v.method=a.toUpperCase();"credentials"in v||(v.credentials="same-origin");null!==f&&(u.isArr(f)||u.isObj(f)?(v.headers=v.headers||new Headers,v.headers.set("Content-Type","application/json"),v.body=JSON.stringify(f)):v.body=""+f);var A=p,z=n;p instanceof Array&&(A=p[0],p[1]&&(z=p[1]));var d={type:"fetch",fetch:{method:a,url:c,body:f}};p=fetch(c,v).then(function(a){if(200<=a.status&&300>a.status)return a;var d=
Error(a.status+": "+a.statusText);d.data=a;return Promise.reject(d)}).then(function(a){switch(a.headers.get("Content-Type").split("; ")[0]){case "application/json":return a.json();case "text/plain":return a.text();default:return a}}).then(A,z).then(function(a){!1!==a&&g.fire(d);return a},function(a){d.error=a;g.fire(d);return a});p._fetchArgs=[a,c,f,[A,z],v];return p}var f=[];u.isFunc(t)&&f.push(t);var g={on:function(a){f.push(a);return g},off:function(a){f.splice(f.indexOf(a),1);return g},fire:u.raft(function(a){u.execAll(f,
a);return g}),prop:function(a,h,f){var p=a,v=function(a,d,c){if(arguments.length&&a!==p){var h=p;p=a;c=c||{type:"prop",prop:v,data:{old:h,"new":a}};f&&(c["new"]=f(c));if(c["new"]===h)return;p=c["new"];u.isFunc(d)?d(c):!1!==d&&g.fire(c)}return p};v._prop=!0;if(h&&h.then){v.update=n;if(h._fetchArgs){var A=h._fetchArgs[3];h._fetchArgs[3]=[function(a){return v(A[0]?A[0](a):a)},A[1]];v.update=function(){c.apply(null,h._fetchArgs)}}h.then(v)}return v.toString=v},sync:function(a,c,f){var p=a,n=c;u.isFunc(p)||
(p=function(c,h,d){if("string"==typeof a){var f,g;"e."==a.substr(0,2)?(f=c,g=a.substr(2)):(f=c.target,g=a)}return u.deepGet(f,g)});u.isArr(n)&&(n=function(a,f,d){var m=c[0],p=c[1];u.isFunc(p)&&(p=p(d.event,d.node,d.vm));var n=u.deepGet(m,p);a!==n&&(u.deepSet(m,p,a,f,d),u.isFunc(f)?f(d):!1!==f&&g.fire(d))});return function(a,c,d){var h={type:"sync",vm:d,node:c,event:a};n(p(a,c,d),f,h)}},fetch:c,get:function(a,h,f){f?a+=g.query(h):f=h;return c("get",a,null,f)},"delete":function(a,f,n){n?a+=g.query(f):
n=f;return c("delete",a,null,n)},post:function(a,f,g){return c("post",a,f,g)},put:function(a,f,g){return c("put",a,f,g)},patch:function(a,f,g){return c("patch",a,f,g)},query:function(a){if(!u.isObj(a))return"";var c=[],f=encodeURIComponent,g;for(g in a)c.push(f(g)+"="+f(a[g]));return c.length?"?"+c.join("&"):""}};return g}})(domvm);(function(w){function u(a,c,f,g,n,u){var t=null,d=null,m=null;if("/"==f[0]){m=f;d=!1;g={};u=m.split("#");c=u[0].split("?");t=c[0];u=u[1];c[1]&&(n={},c[1].split("&").map(function(a){a=a.split("=");n[a[0]]=null==a[1]?!0:a[1]}));var D,w;for(w in a){f=a[w];var C=f.path;if(D=t.match(f.regexPath)){d=w;-1!==C.indexOf(":")&&(g={},D.shift(),C.replace(/:([^\/]+)/g,function(a,c){g[c]=D.shift()}));break}}}else{d=f;f=a[d];var C=c+f.path,I=f.vars||{},J=/^[^\/]+$/,m=-1!==C.indexOf(":")?t=C.replace(/:([^\/]+)/g,
function(a,c){if((I[c]||J).test(g[c]))return g[c]+="";throw Error("Invalid value for route '"+C+"' segment '"+c+"': '"+g[c]+"'");}):t=C;if(n){var m=m+"?",E;for(E in n)m+=E+(!0!==n[E]?"="+n[E]:"")+"&";m=m.slice(0,-1)}m+=u?"#"+u:""}return{href:m,name:d,path:t,segs:g,hash:u,query:n}}function t(a,c){for(var f in a){var g=a[f];g.regexPath=new RegExp("^"+c+g.path.replace(/:([^\/]+)/g,function(a,c){var f=""+g.vars[c];return"("+f.substring(1,f.lastIndexOf("/"))+")"})+"$")}}var n=[],c=null,f=!1,g="";w.route=
function(a,h){function x(){var a=location,a=f?a.href.substr(a.origin.length):a.hash.substr(1)||"/";return u(z,g,a)}var p=null,v={href:function(a,c,h,n,p){var t=u(z,g,a,c,h,n);return f?(a=function(a){v["goto"](t,null,null,null,p);a.preventDefault()},a.href=t.href,a):"#"+t.href},config:function(a){(f=a.useHist)&&(g=a.root||"");p=a.init||null},refresh:function(){v["goto"](x(),null,null,null,!0)},"goto":function(a,h,p,t,v){v=v||w;a.href||(a=u(z,g,a,h,p,t));if(!1===a.name)console.log("Could not find route");
else{h=null;for(p=0;p<n.length;p++)if(n[p].href===a.href){h=p;break}null===h&&(n.splice(c+1,1E4),n.push(a),h=n.length-1);a=n[c];p=n[h];t=!0;null!==c&&(t=(t=z[a.name].onexit)?t.apply(null,(a?[a.segs,a.query,a.hash]:[]).concat(p)):!0);if(!1!==t&&!1!==z[p.name].onenter.apply(null,(p?[p.segs,p.query,p.hash]:[]).concat(a))){if(f)history[v?"replaceState":"pushState"](null,"title",p.href);c=h}w=!1}},location:function(){return w?x():n[c]}},w=!0,z=a(v,h);t(z,g);window.onhashchange=window.onpopstate=function(a){(f||
"popstate"!=a.type)&&v["goto"](x(),null,null,null,!0)};p&&p();return v}})(domvm);
