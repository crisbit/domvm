/*
 https://github.com/leeoniya/domvm (1.x-dev)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var t=("undefined"==typeof window?{}:window).requestAnimationFrame,v={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},f={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(c){return c instanceof Array},isVal:function(c){c=typeof c;return"string"===c||"number"===c},isObj:function(c){return"object"===typeof c&&null!==c&&!f.isArr(c)},isFunc:function(c){return"function"===typeof c},isProm:function(c){return"object"===typeof c&&f.isFunc(c.then)},isElem:function(c){return c instanceof HTMLElement},execAll:function(c,d,n,b,q,u){var A;c&&(f.isArr(c)?c:[c]).forEach(function(c){A=c.call(null,d,n,b,q,u)});return A},repaint:function(c){},insertArr:function(c,
d,n,b){c.splice.apply(c,[n,b].concat(d))},isEvProp:function(c){return"on"===c.substr(0,2)},isDynProp:function(c,d){switch(c){case "input":case "textarea":case "select":case "option":switch(d){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(c,d){return isNaN(d)||v[c]?d:d+"px"},cmpArr:function(c,d){var n=c.length;if(n!=d.length)return!1;for(;n--;)if(c[n]!==d[n])return!1;return!0},
deepSet:function(c,d,n,b,q,u){d=d.split(".");var A=d.pop();d.forEach(function(b){c[b]||(c[b]={});c=c[b]});if(f.isFunc(c[A]))c[A](n,b,q,u);else c[A]=n},deepGet:function(c,d){var n=d.split(".");do c=c[n.shift()];while(n.length);return c},keyedIdx:function(c,d,n,b,q){for(b=0;b<d.length;b++)if(q=d[b],q.key===c)if(n){if(q.vm&&q.vm.ident[0]===n)return b}else return b;return-1},raft:function(c){function d(){n=0;c.apply(b,q)}if(!t)return c;var n,b,q;return function(){b=this;q=arguments;n||(n=t(d))}}};w.utils=
f})(domvm);(function(w){function t(a){for(H.repaint&&m.repaint(a);a=I.shift();)a[0].apply(null,a.slice(1))}function v(a,h){return!1===h?null:null==h&&null!=a?a:m.isVal(h)||m.isObj(h)||m.isArr(h)||m.isFunc(h)?h:null}function f(a,h,l,b,z,e){function g(a,h,e){if(e)a[h]=a[h]||[],a[h].push(e);else for(var l in h)a[l]=a[l]||[],a[l].push(h[l])}function k(a,h,l){z=a;e=h;p.update(l,!1);null!=p.node&&(z.body[e]=p.node);return f(0,!1)}function u(a){return null==a?"":a}function f(a,c){c=!1!==c;if(a){for(var b=p;a--&&b.parent;)b=
b.parent;b.redraw(0,!0);return b.vm}(b=p.node)&&d(p,"willRedraw",p);var E=p.refs,g=p.body;p.refs={};p.body=[];var k=p.render.call(p.api,p,h,l),y;if(!1===k||(y=q(k,z,e,p,!0))&&D(b,y))return b.moved=!0,b.wasSame=!0,p.refs=E,p.body=g,p;y.vm=p;p.node=y;E=m.isVal(l)&&"^"===l[0]?l.substr(1):m.isVal(y.ref)&&"^"===y.ref[0]?y.ref.substr(1):null;y.key=null!=l?l:y.key;for(g=z;g;)g.vm&&(p.parent||(p.parent=g.vm,g.vm.body.push(p)),null!==E&&m.deepSet(g.vm.refs,E,y)),g=g.parent;if((E=b)&&(y.type!==b.type||y.tag!==
b.tag))var E=null,u=!0,N=b.el.parentNode;A(y,E);z&&(z.body[e]=y);c&&(b&&n(b),!b&&B||r(y,null,y.el),u&&((N||y.parent.el).insertBefore(y.el,N.childNodes[b.idx]),p.node=y));b&&d(p,"didRedraw",p);c&&b&&I.length&&t(y);return p}var B=!z;m.isArr(a)&&(h=a[1],l=a[2],b=a[3],a=a[0]);l=v(h,l);var p={api:{},node:null,ident:[a,l],model:h,opts:b||{},render:null,update:function(a,e){null==a||l===h&&!m.isVal(l)||(d(p,"willUpdate",p,a),h=p.model=a);return!1!==e?f(0):p},on:function(a,h){g(p.events,a,h)},hook:function(a,
h){p.hooks=p.hooks||{};g(p.hooks,a,h)},events:{},hooks:null,redraw:H.debounce?m.raft(f):f,patch:function(a,h){var e=null!=a.el;if(m.isObj(h)){a.props=a.props||{};var l="class"in h?(u(a["class"])+" "+u(h["class"])).trim():a.props["class"],b="style"in h?h.style:a.props.style;e&&(e=Object.create(a.props),e["class"]=l,e.style=b,e={tag:a.tag,el:a.el,ns:a.ns,props:e},J(e,a));a.props["class"]=l;a.props.style=b}else l=a.parent,e=A(q(h,l,a.idx,p),a),l.body[a.idx]=e},emit:function(a){for(var h=Array.prototype.slice.call(arguments),
e=p,l;e;){if(l=e.events[a]){h[0]=l;m.execAll.apply(null,h);break}e=e.parent}},refs:{},parent:null,body:[],mount:function(a,h){var e=null;h&&(a.textContent="",e=a,a=null);r(p.node,e,null,a);t(p.node);return p},attach:function(a){c(p.node,a);return p},unmount:function(){n(p.node)},moveTo:k,updIdx:function(a){e=a}};b&&b.hooks&&p.hook(b.hooks);m.execAll(G,p);p.render=a.call(p.api,p,h,l);return z?k(z,e):f(0)}function c(a,h){a.el=h;h._node=a;for(var l in a.props){var b=a.props[l],z=m.isEvProp(l)?l:"."===
l[0]?l.substr(1):null;null!==z&&(h[z]=b)}if(m.isArr(a.body))for(l=0;l<a.body.length;l++)c(a.body[l],h.childNodes[l])}function d(a,h,l,b,z,e){if(a&&a.hooks&&(a=a.hooks[h]))if("did"==h.substr(0,3))I.push([m.execAll,a,l,b,z,e]);else return m.execAll(a,l,b,z,e)}function n(a,h){var l=a.el&&!a.moved;if(l){var c=d(a.vm,"willUnmount",a.vm),z=d(a,"willRemove",a),e=c||z;a.removed=!0}a.wasSame?a.wasSame=!1:(m.isArr(a.body)&&a.body.forEach(function(a,l){n(a,h||e)}),h||(e?e.then(function(){b(a,l,!0)}):b(a,l)));
a.moved=!1}function b(a,h,l){null!=a.el&&a.el.parentNode?h&&(a.el.parentNode.removeChild(a.el),a.el=null,k(a),d(a.vm,"didUnmount",a.vm),d(a,"didRemove",a),l&&t(a.parent)):k(a)}function q(a,h,l,b,z){var e=a;a=0<K.length?K.pop():{type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null,data:null,diff:null};m.isFunc(e)&&(e=e());var c=e.length;if(m.isArr(e)&&c){a.type=m.TYPE_ELEM;if(1<
c){var g=1;!m.isObj(e[1])||e[1].redraw||m.isElem(e[1])||(a.props=e[1],g=2);a.body=c==g+1?m.isVal(e[g])?e[g]:m.isFunc(e[g])?e[g]():e.slice(g):e.slice(g)}e=e[0];c=O[e];c||(c=["",""],c={tag:(e.match(/^[-\w]+/)||["div"])[0],id:(e.match(/#([-\w]+)/)||c)[1],"class":(e.match(/\.([-\w.]+)/)||c)[1].replace(/\./g," ")},O[e]=c);a.tag=c.tag;if(c.id||c["class"])e=a.props||{},c.id&&null==e.id&&(e.id=c.id),c["class"]&&(a["class"]=c["class"],e["class"]=c["class"]+(null!=e["class"]?" "+e["class"]:"")),a.props=e;if(a.props){var e=
a.props,k;for(k in e)!m.isEvProp(k)&&m.isFunc(e[k])&&("href"==k?(e.onclick=e[k],e.href=e[k].href):e[k]=e[k]()),m.isDynProp(a.tag,k)&&(e["."+k]=e[k]);if(m.isObj(e.style))for(var q in e.style)k=e.style[q],m.isFunc(k)&&(e.style[q]=k());m.isObj(e._hooks)&&(a.hooks=e._hooks,e._hooks=null);a.key=m.isVal(e._key)?e._key:m.isVal(e._ref)?e._ref:m.isVal(e.id)?e.id:m.isVal(e.name)?e.name:null;null!=e._ref&&(a.ref=e._ref);e._raw&&(a.raw=!0);null!=e._data&&(a.data=e._data);e._diff&&(a.diff=e._diff);e._ref=e._key=
e._raw=e._data=e._diff=null}}else m.isVal(e)?(a.type=m.TYPE_TEXT,a.body=e):m.isElem(e)&&(a.type=m.TYPE_ELEM,a.el=e,a.tag=e.nodeName.toLowerCase());null!==a.ref&&m.deepSet(b.refs,a.ref,a);a.parent=h;a.idx=l;a.ns=h&&h.ns?h.ns:"svg"===a.tag||"math"===a.tag?a.tag:null;z||a.diff||!m.isArr(a.body)||u(a,b);return a}function u(a,h){for(var l=0,c=a.body.length;l<c;l++){var b=a.body[l],e=null,g=null,k=!1,d=!1;m.isFunc(b)&&(b=b());if(null==b)k=!0;else{var n=m.isArr(b),u=n?!1:m.isObj(b);if(n)b.length?b._expl?
d=!0:"string"==typeof b[0]&&""!==b[0]?(g=q(b,a,l,h),e=g.key):m.isFunc(b[0])?e=v(b[1],b[2]):d=!0:k=!0;else if(u)if(m.isFunc(b.redraw))b.moveTo(a,l),g=b.node,e=b.ident[1];else if(m.isElem(b))g=q(b,a,l,h);else{a.body[l--]=""+b;continue}else""===b?k=!0:0<l&&a.body[l-1].type===m.TYPE_TEXT?(a.body[l-1].body+=""+b,k=!0):g=q(""+b,a,l,h)}k||d?(d?m.insertArr(a.body,b,l,1):a.body.splice(l,1),c=a.body.length,l--):(null!==e&&(a.hasKeys=!0),a.body[l]=g||b)}a.body._init=!0}function A(a,h){if(D(h,a))return h.moved=
!0,h.wasSame=!0,h;h&&(d(a,"willRecycle",h,a),B(h,a),d(a,"didRecycle",h,a));if(m.isArr(a.body)){if(!a.body._init){for(var b=a;!b.vm;)b=b.parent;u(a,b.vm)}var c=0;a.body.forEach(function(b,e){var l=m.isArr(b);if(h){var g=C(b,a,h,c);if(null!==g){var k=g[0],g=g[1];k===c&&c++;k=h.body[k];k.vm?l?2===g?k.vm.moveTo(a,e,b[1]):1===g&&f(b[0],b[1],b[2],b[3],a,e):b.vm&&2===g&&b.vm===k.vm&&k.vm.moveTo(a,e):a.body[e]=A(b,k);return}}l?f(b[0],b[1],b[2],b[3],a,e):a.body[e]=A(b)})}return a}function r(a,h,b,c){for(var g=
!a.el;b&&b._node.removed;)b=b.nextSibling;g&&a.vm&&d(a.vm,"willMount",a.vm);if(a.type==m.TYPE_ELEM)if(g&&(a.el=h||(a.ns?L.createElementNS(Q[a.ns],a.tag):L.createElement(a.tag)),a.props&&J(a)),m.isArr(a.body)){h=0;for(var e=a.el.firstChild;h<a.body.length;h++)e=r(a.body[h],null,e)}else m.isVal(a.body)&&(a.raw?a.el.innerHTML=a.body:g&&(a.el.textContent=a.body));else a.type==m.TYPE_TEXT&&g&&(a.el=L.createTextNode(a.body));a.el._node=a;h=a.parent;b!==a.el&&(c||h&&h.el)&&(h=g?"Insert":"Reinsert",d(a,"will"+
h,a),(c||a.parent.el).insertBefore(a.el,b),d(a,"did"+h,a));g&&a.vm&&a.vm.hooks&&!a.moved&&d(a.vm,"didMount",a.vm);return b!==a.el?b:b.nextSibling}function C(a,h,b,c,g){var e=m.isArr(a),k=e?v(a[1],a[2]):a.key,d=b.hasKeys,q=h.hasKeys;b=b.body;h=h.body;if(null!==k&&d)return a=m.keyedIdx(k,b,e?a[0]:null),-1<a?[a,2]:null;c=c||0;if(c>b.length-1)return null;g=0===g?0:g||b.length-1;for(k=null;c<=g;c++)if(d=b[c],null!==d&&d.el)if(e&&d.vm){if(d.vm.ident[0]===a[0]){if(d.vm.ident[1]===v(a[1],a[2]))return[c,2];
!k&&q&&-1==m.keyedIdx(d.key,h,d.vm.ident[0])&&(k=[c,1])}}else if(a.type===d.type&&(a.type===m.TYPE_TEXT||null!==a.tag&&a.tag===d.tag)&&(null===d.key||!q||-1==m.keyedIdx(d.key,h,d.vm?d.vm.ident[0]:null)))return[c,1];return k}function D(a,b){if(a&&a.diff&&b.diff&&a.diff[0]===b.diff[0]){var c=a.diff.slice(1).concat(b.diff.slice(1));return!b.diff[0].apply(null,c)}return!1}function B(a,b){if(a.el)if(b.el=a.el,a.el=null,b.el&&(b.el._node=b),b.type===m.TYPE_TEXT&&b.body!==a.body)b.el.nodeValue=b.body;else{J(b,
a);var c=!m.isArr(b.body),g=!m.isArr(a.body);c&&b.body!==a.body?g&&b.el.firstChild?b.el.firstChild.nodeValue=b.body:b.raw?b.el.innerHTML=b.body:b.el.textContent=b.body:g&&!c&&(b.el.textContent="");a.moved=!0}}function k(a){a.removed&&a.vm&&(a.vm.node=null);a.el=a.key=a.ref=a.data=a.diff=a.vm=a.body=a.props=null;a.raw=a.moved=a.wasSame=a.removed=!1;K.push(a)}function g(a,b,c,g){return function(c){var e,k=c.target._node,l=null;if(m.isFunc(a))e=a.call(b,c,k,g);else if(m.isArr(a))l=a.slice(1),e=a[0].apply(b,
l.concat(c,k,g));else if(m.isObj(a))for(var d in a){var q=a[d];null!=q&&"_"!=d[0]&&c.target.matches(d)&&(m.isArr(q)?(l=q.slice(1),e=q[0].apply(b,l.concat(c,k,g))):m.isFunc(q)&&(e=q.call(b,c,k,g)))}!1===e&&(c.preventDefault(),c.stopPropagation());g.opts.hasOwnProperty("watch")&&g.opts.watch.fire({type:"event",vm:g,node:k,event:c,data:l})}}function J(a,b){var c=!b;b=b||{};if(b.props||a.props){var g=b.props||{},k=a.props||{},e=g.style,d=k.style;if(m.isObj(e)||m.isObj(d))P(a.el,a.tag,e||{},d||{},x,R,
a.ns,c,a),g.style=k.style=null;P(a.el,a.tag,g,k,M,F,a.ns,c,a);d&&(k.style=d)}}function P(a,b,c,g,k,e,d,q,n){for(var u in g)if(b=g[u],null!==b){var f="."===u[0]?a[u.substr(1)]:c[u];b===f||m.isArr(b)&&m.isArr(f)&&m.cmpArr(b,f)||k(a,u,b,d,q,n)}for(u in c)null!==c[u]&&null==g[u]&&e(a,u,d,q)}function x(a,b,c){a.style[b]=m.autoPx(b,c)}function R(a,b){a.style[b]=""}function M(a,b,c,k,d,e){if("."===b[0])b=b.substr(1),"svg"===k?a[b].baseVal=c:a[b]=c;else if("class"===b)a.className=c;else if("id"===b)a[b]=
c;else if(m.isEvProp(b)){for(k=e;!k.vm;)k=k.parent;a[b]=g(c,k.vm.opts.evctx||k.vm.model||null,e,k.vm)}else!1===c?F(a,b,k,d):a.setAttribute(b,!0===c?"":c)}function F(a,b,c,g){g||("."===b[0]?(b=b.substr(1),"svg"===c?a[b].baseVal=null:a[b]=null):"class"===b?a.className="":"id"===b||m.isEvProp(b)?a[b]=null:a.removeAttribute(b))}var Q={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},L="undefined"==typeof document?{}:document,O={},K=[],I=[],H={debounce:!0,repaint:!0};w.view=
f;w.view.config=function(a){for(var b in a)H[b]=a[b]};var G=null;w.view.extend=function(a,b){G=!G||b?[]:G;G.push(a)};var m=w.utils;return w})(domvm);(function(w){var t=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,v=w.utils;w.html=function(f){var c="";switch(f.type){case v.TYPE_ELEM:c+="<"+f.tag;if(f.props){var d=v.isVal(f.props.style)?f.props.style:"",n=v.isObj(f.props.style)?f.props.style:null;if(n)for(var b in n)null!==n[b]&&(d+=v.camelDash(b)+": "+v.autoPx(b,n[b])+"; ");for(b in f.props)v.isEvProp(b)||"."===b[0]||(n=f.props[b],v.isFunc(n)&&(n=n()),v.isObj(n)||(!0===n?c+=" "+b:!1!==n&&null!==n&&
"."!==b[0]&&(c+=" "+b+'="'+n+'"')));d.length&&(c+=' style="'+d.trim()+'"')}if(f.ns&&"svg"!==f.tag&&"math"!==f.tag&&!f.body)return c+"/>";c+=">";break;case v.TYPE_TEXT:return f.body}t.test(f.tag)||(v.isArr(f.body)?f.body.forEach(function(b){c+=w.html(b)}):c+=f.body||"",c+="</"+f.tag+">");return c}})(domvm);(function(w){var t=w.utils;w.watch=function(v){function f(){}function c(b,c,d,f,r){r=r||{};r.method=b.toUpperCase();"credentials"in r||(r.credentials="same-origin");null!==d&&(t.isArr(d)||t.isObj(d)?(r.headers=r.headers||new Headers,r.headers.set("Content-Type","application/json"),r.body=JSON.stringify(d)):r.body=""+d);var C=f,D=function(b){return Promise.reject(b)};f instanceof Array&&(C=f[0],f[1]&&(D=f[1]));var B={type:"fetch",fetch:{method:b,url:c,body:d}};f=fetch(c,r).then(function(b){if(200<=
b.status&&300>b.status)return b;var c=Error(b.status+": "+b.statusText);c.data=b;return Promise.reject(c)}).then(function(b){switch(b.headers.get("Content-Type").split("; ")[0]){case "application/json":return b.json();case "text/plain":return b.text();default:return b}}).then(C,D).then(function(b){!1!==b&&n.fire(B);return b},function(b){B.error=b;n.fire(B);return Promise.reject(b)});f._fetchArgs=[b,c,d,[C,D],r];return f}var d=[];t.isFunc(v)&&d.push(v);var n={on:function(b){d.push(b);return n},off:function(b){d.splice(d.indexOf(b),
1);return n},fire:t.raft(function(b){t.execAll(d,b);return n}),prop:function(b,d,u){var A=b,r=function(b,c,d){if(arguments.length&&b!==A){d=d||{type:"prop",prop:r,data:{old:A,"new":b}};u&&(b=u(d));if("undefined"==typeof b||b===A)return A;A=d.data["new"]=b;t.isFunc(c)?c(d):!1!==c&&n.fire(d)}return A};r._prop=!0;if(d&&d.then){r.update=f;if(d._fetchArgs){var C=d._fetchArgs[3];d._fetchArgs[3]=[function(b){return r(C[0]?C[0](b):b)},C[1]];r.update=function(){c.apply(null,d._fetchArgs)}}d.then(r)}return r.toString=
r},sync:function(b,c,d){var f=b,r=c;t.isFunc(f)||(f=function(c,d,f){if("string"==typeof b){var k,g;"e."==b.substr(0,2)?(k=c,g=b.substr(2)):(k=c.target,g=b)}return t.deepGet(k,g)});t.isArr(r)&&(r=function(b,d,f){var k=c[0],g=c[1];t.isFunc(g)&&(g=g(f.event,f.node,f.vm));var u=t.deepGet(k,g);b!==u&&(t.deepSet(k,g,b,d,f),t.isFunc(d)?d(f):!1!==d&&n.fire(f))});return function(b,c,n){var k={type:"sync",vm:n,node:c,event:b};r(f(b,c,n),d,k)}},fetch:c,get:function(b,d,f){f?b+=n.query(d):f=d;return c("get",
b,null,f)},"delete":function(b,d,f){f?b+=n.query(d):f=d;return c("delete",b,null,f)},post:function(b,d,f){return c("post",b,d,f)},put:function(b,d,f){return c("put",b,d,f)},patch:function(b,d,f){return c("patch",b,d,f)},query:function(b){if(!t.isObj(b))return"";var c=[],d=encodeURIComponent,f;for(f in b)c.push(d(f)+"="+d(b[f]));return c.length?"?"+c.join("&"):""}};return n}})(domvm);(function(w){function t(b,c,d,f,n,q){var k=null,g=null,t=null;if("/"==d[0]){t=d;g=!1;f={};q=t.split("#");c=q[0].split("?");k=c[0];q=q[1];c[1]&&(n={},c[1].split("&").map(function(b){b=b.split("=");n[b[0]]=null==b[1]?!0:b[1]}));var v,x;for(x in b){d=b[x];var w=d.path;if(v=k.match(d.regexPath)){g=x;-1!==w.indexOf(":")&&(f={},v.shift(),w.replace(/:([^\/]+)/g,function(b,c){f[c]=v.shift()}));break}}}else{g=d;d=b[g];var w=c+d.path,M=d.vars||{},t=-1!==w.indexOf(":")?k=w.replace(/:([^\/]+)/g,function(b,c){if((M[c]||
/^[^\/]+$/).test(f[c]))return f[c]+="";throw Error("Invalid value for route '"+w+"' segment '"+c+"': '"+f[c]+"'");}):k=w;if(n){var t=t+"?",F;for(F in n)t+=F+(!0!==n[F]?"="+n[F]:"")+"&";t=t.slice(0,-1)}t+=q?"#"+q:""}return{href:t,name:g,path:k,segs:f,hash:q,query:n}}function v(b,c){for(var d in b){var f=b[d];f.regexPath=new RegExp("^"+c+f.path.replace(/:([^\/]+)/g,function(b,c){var d=""+((f.vars||{})[c]||/[^\/]+/);return"("+d.substring(1,d.lastIndexOf("/"))+")"})+"$")}}var f=[],c=null,d=!1,n=null,
b=null,q="";w.route=function(u,w){function r(){var b=location,b=d?b.href.substr(b.origin.length):b.hash.substr(1)||"/";return t(B,q,b)}var C=null,D={href:function(b,c,f,k,n){var r=t(B,q,b,c,f,k);return d?(b=function(b){D["goto"](r,null,null,null,n);b.preventDefault()},b.href=r.href,b):"#"+r.href},config:function(c){(d=c.useHist)&&(q=c.root||"");n=c.willEnter||null;b=c.willExit||null;C=c.init||null},refresh:function(){D["goto"](r(),null,null,null,!0)},"goto":function(g,r,u,x,w){g.href||(g=t(B,q,g,
r,u,x));if(!1===g.name)console.log("Could not find route");else{r=null;for(x=0;x<f.length;x++)if(f[x].href===g.href){r=x;break}null===r&&(f.splice(c+1,1E4),f.push(g),r=f.length-1);g=f[c];x=f[r];var v=!0;u=!0;null!==c&&(b&&(v=b(g,x)),!1!==v&&(v=(v=B[g.name].onexit)?v.apply(null,(g?[g.segs,g.query,g.hash]:[]).concat(x)):!0));!1!==v&&(n&&(u=n(x,g)),!1!==u&&(u=B[x.name].onenter.apply(null,(x?[x.segs,x.query,x.hash]:[]).concat(g))),!1!==u&&(d?(k=!0,history[w?"replaceState":"pushState"](null,"title",x.href)):
(x="#"+x.href,location.hash!==x&&(k=!0,w?location.replace(x):location.hash=x)),c=r))}},location:function(){return null==c?r():f[c]}},B=u(D,w);v(B,q);var k=!1;window.onhashchange=window.onpopstate=function(b){if(d||"popstate"!=b.type)!d&&k?k=!1:D["goto"](r(),null,null,null,!0)};C&&C();return D}})(domvm);
