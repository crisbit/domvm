/*
 https://github.com/leeoniya/domvm (1.x-dev)
*/
("undefined"!==typeof global?global:this).domvm={};(function(v){var u=("undefined"==typeof window?{}:window).requestAnimationFrame,q={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},k={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(a){return a instanceof Array},isVal:function(a){a=typeof a;return"string"===a||"number"===a},isObj:function(a){return"object"===typeof a&&null!==a&&!k.isArr(a)},isFunc:function(a){return"function"===typeof a},isProm:function(a){return"object"===typeof a&&k.isFunc(a.then)},isElem:function(a){return a instanceof HTMLElement},execAll:function(a,e,l,c,f,y){var r;a&&(k.isArr(a)?a:[a]).forEach(function(a){r=a.call(null,e,l,c,f,y)});return r},tick:function(a,e){e&&u?u&&u(function(){k.tick(a,
e-1)}):k.isArr(a)?a[0].apply(null,a.slice(1)):a()},insertArr:function(a,e,l,c){a.splice.apply(a,[l,c].concat(e))},isEvProp:function(a){return"on"===a.substr(0,2)},isDynProp:function(a,e){switch(a){case "input":case "textarea":case "select":case "option":switch(e){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(a,e){return isNaN(e)||q[a]?e:e+"px"},cmpArr:function(a,e){var l=
a.length;if(l!=e.length)return!1;for(;l--;)if(a[l]!==e[l])return!1;return!0},deepSet:function(a,e,l,c,f,y){e=e.split(".");var r=e.pop();e.forEach(function(c){a[c]||(a[c]={});a=a[c]});if(k.isFunc(a[r]))a[r](l,c,f,y);else a[r]=l},deepGet:function(a,e){var l=e.split(".");do a=a[l.shift()];while(l.length);return a},keyedIdx:function(a,e,l,c,f){for(c=0;c<e.length;c++)if(f=e[c],f.key===a)if(l){if(f.vm&&f.vm.view[0]===l)return c}else return c;return-1},raft:function(a){function e(){l=0;a.apply(c,f)}if(!u)return a;
var l,c,f;return function(){c=this;f=arguments;l||(l=u(e))}}};v.utils=k})(domvm);(function(v){function u(){for(var b,h,n=[G,L];h=n.shift();)for(;b=h.shift();)b[0].apply(null,b.slice(1))}function q(b,h){return!1===h?null:null==h&&null!=b?b:m.isVal(h)||m.isObj(h)||m.isArr(h)||m.isFunc(h)?h:null}function k(b,h,n,c,z,d){function p(b,h,d){if(d)b[h]=b[h]||[],b[h].push(d);else for(var n in h)b[n]=b[n]||[],b[n].push(h[n])}function g(b,h,n){z=b;d=h;t.update(n,!1);null!=t.node&&(z.body[d]=t.node);return k(0,!1)}function y(b){return null==b?"":b}function k(b,a){if((a=!1!==a)&&G.length)return L.push([k,
b,a]),t;if(b){for(var c=t;b--&&c.parent;)c=c.parent;c.redraw(0,!0);return c.vm}(c=t.node)&&e(t,"willRedraw",t);var p=t.refs;t.refs={};t.body=[];var B=t.render.call(t.api,t,h,n),g;if(!1===B||(g=f(B,z,d,t,!0))&&A(c,g))return c.moved=!0,c.wasSame=!0,t.refs=p,t;g.vm=t;t.node=g;p=m.isVal(n)&&"^"===n[0]?n.substr(1):m.isVal(g.ref)&&"^"===g.ref[0]?g.ref.substr(1):null;g.key=null!=n?n:g.key;for(B=z;B;)B.vm&&(t.parent||(t.parent=B.vm,B.vm.body.push(t)),null!==p&&m.deepSet(B.vm.refs,p,g)),B=B.parent;if((p=c)&&
(g.type!==c.type||g.tag!==c.tag))var p=null,y=!0,M=c.el.parentNode;r(g,p);z&&(z.body[d]=g);a&&(c&&l(c),!c&&x||w(g,null,g.el),y&&(M||g.parent.el).insertBefore(g.el,M.childNodes[c.idx]));c&&e(t,"didRedraw",t);!1!==a&&m.tick(u,2);return t}var x=!z;m.isArr(b)&&(h=b[1],n=b[2],c=b[3],b=b[0]);n=q(h,n);var t={api:{},node:null,view:[b,n],model:h,opts:c||{},render:null,update:function(b,d){null==b||n===h&&!m.isVal(n)||(h=t.model=b);return!1!==d?k(0):t},on:function(b,h){p(t.events,b,h)},hook:function(b,h){t.hooks=
t.hooks||{};p(t.hooks,b,h)},events:{},hooks:null,redraw:H.useRaf?m.raft(k):k,patch:function(b,h){var d=null!=b.el;if(m.isObj(h)){var n="class"in h?(y(b["class"])+" "+y(h["class"])).trim():b.props["class"],c="style"in h?h.style:b.props.style;d&&(d=Object.create(b.props),d["class"]=n,d.style=c,d={tag:b.tag,el:b.el,ns:b.ns,props:d},I(d,b));b.props["class"]=n;b.props.style=c}else n=b.parent,d=r(f(h,n,b.idx,t),b),n.body[b.idx]=d},emit:function(b){for(var h=Array.prototype.slice.call(arguments),d=t,n;d;){if(n=
d.events[b]){h[0]=n;m.execAll.apply(null,h);break}d=d.parent}},refs:{},parent:null,body:[],mount:function(b,h){var d=null;h&&(b.textContent="",d=b,b=null);w(t.node,d,null,b);return t},attach:function(b){a(t.node,b);return t},unmount:function(){l(t.node)},moveTo:g,updIdx:function(b){d=b}};c&&c.hooks&&t.hook(c.hooks);m.execAll(F,t);t.render=b.call(t.api,t,h,n);return z?g(z,d):k(0)}function a(b,h){b.el=h;h._node=b;for(var n in b.props){var c=b.props[n],z=m.isEvProp(n)?n:"."===n[0]?n.substr(1):null;null!==
z&&(h[z]=c)}if(m.isArr(b.body))for(n=0;n<b.body.length;n++)a(b.body[n],h.childNodes[n])}function e(b,h,n,c,a,d){if(b&&b.hooks&&(b=b.hooks[h]))if(H.useRaf&&"did"==h.substr(0,3))G.push([m.execAll,b,n,c,a,d]);else return m.execAll(b,n,c,a,d)}function l(b,h){var n=b.el&&!b.moved;if(n){var a=e(b.vm,"willUnmount",b.vm),z=e(b,"willRemove",b),d=a||z;b.removed=!0}b.wasSame?b.wasSame=!1:(m.isArr(b.body)&&b.body.forEach(function(b,n){l(b,h||d)}),h||(d?d.then(function(){c(b,n)}):c(b,n)));b.moved=!1}function c(b,
h){null!=b.el&&b.el.parentNode&&(h&&(b.el.parentNode.removeChild(b.el),b.el=null,e(b.vm,"didUnmount",b.vm),e(b,"didRemove",b)),m.isArr(b.body)&&b.body.forEach(function(b,h){c(b,!b.moved)}))}function f(b,h,n,c,a){var d=b;b={type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null};m.isFunc(d)&&(d=d());var g=d.length;if(m.isArr(d)&&g){b.type=m.TYPE_ELEM;if(1<g){var p=1;m.isObj(d[1])&&
!m.isElem(d[1])&&(b.props=d[1],p=2);b.body=g==p+1?m.isVal(d[p])?d[p]:m.isFunc(d[p])?d[p]():d.slice(p):d.slice(p)}d=d[0];g=N[d];g||(g=["",""],g={tag:(d.match(/^[-\w]+/)||["div"])[0],id:(d.match(/#([-\w]+)/)||g)[1],"class":(d.match(/\.([-\w.]+)/)||g)[1].replace(/\./g," ")},N[d]=g);b.tag=g.tag;if(g.id||g["class"])d=b.props||{},g.id&&null==d.id&&(d.id=g.id),g["class"]&&(b["class"]=g["class"],d["class"]=g["class"]+(null!=d["class"]?" "+d["class"]:"")),b.props=d;if(b.props){var d=b.props,f;for(f in d)!m.isEvProp(f)&&
m.isFunc(d[f])&&("href"==f?(d.onclick=d[f],d.href=d[f].href):d[f]=d[f]()),m.isDynProp(b.tag,f)&&(d["."+f]=d[f]);if(m.isObj(d.style))for(var e in d.style)f=d.style[e],m.isFunc(f)&&(d.style[e]=f());m.isObj(d._hooks)&&(b.hooks=d._hooks,d._hooks=null);b.key=m.isVal(d._key)?d._key:m.isVal(d._ref)?d._ref:m.isVal(d.id)?d.id:m.isVal(d.name)?d.name:null;null!=d._ref&&(b.ref=d._ref);d._raw&&(b.raw=!0);null!=d._data&&(b.data=d._data);d._diff&&(b.diff=d._diff);d._ref=d._key=d._raw=d._data=d._diff=null}}else m.isVal(d)?
(b.type=m.TYPE_TEXT,b.body=d):m.isElem(d)&&(b.type=m.TYPE_ELEM,b.el=d,b.tag=d.nodeName.toLowerCase());null!==b.ref&&m.deepSet(c.refs,b.ref,b);b.parent=h;b.idx=n;b.ns=h&&h.ns?h.ns:"svg"===b.tag||"math"===b.tag?b.tag:null;a||b.diff||!m.isArr(b.body)||y(b,c);return b}function y(b,h){for(var n=0,c=b.body.length;n<c;n++){var a=b.body[n],d=null,g=null,p=!1,e=!1;m.isFunc(a)&&(a=a());if(null==a)p=!0;else{var y=m.isArr(a),l=y?!1:m.isObj(a);if(y)a.length?"string"==typeof a[0]&&""!==a[0]?(g=f(a,b,n,h),d=g.key):
m.isFunc(a[0])?d=q(a[1],a[2]):e=!0:p=!0;else if(l)if(m.isFunc(a.redraw))a.moveTo(b,n),g=a.node,d=a.view[1];else if(m.isElem(a))g=f(a,b,n,h);else{b.body[n--]=""+a;continue}else""===a?p=!0:0<n&&b.body[n-1].type===m.TYPE_TEXT?(b.body[n-1].body+=""+a,p=!0):g=f(""+a,b,n,h)}p||e?(e?m.insertArr(b.body,a,n,1):b.body.splice(n,1),c=b.body.length,n--):(null!==d&&(b.hasKeys=!0),b.body[n]=g||a)}b.body._init=!0}function r(b,h){if(A(h,b))return h.moved=!0,h.wasSame=!0,h;h&&(e(b,"willRecycle",h,b),g(h,b),e(b,"didRecycle",
h,b));if(m.isArr(b.body)){if(!b.body._init){for(var a=b;!a.vm;)a=a.parent;y(b,a.vm)}var c=0;b.body.forEach(function(a,d){var n=m.isArr(a);if(h){var g=x(a,b,h,c);if(null!==g){var p=g[0],g=g[1];p===c&&c++;p=h.body[p];p.vm?n?2===g?p.vm.moveTo(b,d,a[1]):1===g&&k(a[0],a[1],a[2],a[3],b,d):a.vm&&2===g&&a.vm===p.vm&&p.vm.moveTo(b,d):b.body[d]=r(a,p);return}}n?k(a[0],a[1],a[2],a[3],b,d):b.body[d]=r(a)})}return b}function w(b,h,a,c){for(var g=!b.el;a&&a._node.removed;)a=a.nextSibling;g&&e(b.vm,"willMount",
b.vm);if(b.type==m.TYPE_ELEM)if(g&&(b.el=h||(b.ns?J.createElementNS(P[b.ns],b.tag):J.createElement(b.tag)),b.props&&I(b)),m.isArr(b.body)){h=0;for(var d=b.el.firstChild;h<b.body.length;h++)d=w(b.body[h],null,d)}else m.isVal(b.body)&&(b.raw?b.el.innerHTML=b.body:g&&(b.el.textContent=b.body));else b.type==m.TYPE_TEXT&&g&&(b.el=J.createTextNode(b.body));b.el._node=b;h=b.parent;a!==b.el&&(c||h&&h.el)&&(h=g?"Insert":"Reinsert",e(b,"will"+h,b),(c||b.parent.el).insertBefore(b.el,a),e(b,"did"+h,b));g&&b.vm&&
b.vm.hooks&&!b.moved&&e(b.vm,"didMount",b.vm);return a!==b.el?a:a.nextSibling}function x(b,h,a,c,g){var d=m.isArr(b),p=d?q(b[1],b[2]):b.key,f=a.hasKeys,e=h.hasKeys;a=a.body;h=h.body;if(null!==p&&f)return b=m.keyedIdx(p,a,d?b[0]:null),-1<b?[b,2]:null;c=c||0;if(c>a.length-1)return null;g=0===g?0:g||a.length-1;for(p=null;c<=g;c++)if(f=a[c],null!==f&&f.el)if(d&&f.vm){if(f.vm.view[0]===b[0]){if(f.vm.view[1]===q(b[1],b[2]))return[c,2];!p&&e&&-1==m.keyedIdx(f.key,h,f.vm.view[0])&&(p=[c,1])}}else if(b.type===
f.type&&(b.type===m.TYPE_TEXT||null!==b.tag&&b.tag===f.tag)&&(null===f.key||!e||-1==m.keyedIdx(f.key,h,f.vm?f.vm.view[0]:null)))return[c,1];return p}function A(b,a){if(b&&b.diff&&a.diff&&b.diff[0]===a.diff[0]){var c=b.diff.slice(1).concat(a.diff.slice(1));return!a.diff[0].apply(null,c)}return!1}function g(b,a){a.el=b.el;b.el=null;a.el&&(a.el._node=a);if(a.type===m.TYPE_TEXT&&a.body!==b.body)a.el.nodeValue=a.body;else{I(a,b);var c=!m.isArr(a.body),g=!m.isArr(b.body);c&&a.body!==b.body?g&&a.el.firstChild?
a.el.firstChild.nodeValue=a.body:a.raw?a.el.innerHTML=a.body:a.el.textContent=a.body:g&&!c&&(a.el.textContent="");b.moved=!0}}function p(b,a,c,g){return function(c){var d,p=c.target._node,f=null;if(m.isFunc(b))d=b.call(a,c,p,g);else if(m.isArr(b))f=b.slice(1),d=b[0].apply(a,f.concat(c,p,g));else if(m.isObj(b))for(var n in b){var e=b[n];null!=e&&"_"!=n[0]&&c.target.matches(n)&&(m.isArr(e)?(f=e.slice(1),d=e[0].apply(a,f.concat(c,p,g))):m.isFunc(e)&&(d=e.call(a,c,p,g)))}!1===d&&(c.preventDefault(),c.stopPropagation());
g.opts.hasOwnProperty("watch")&&g.opts.watch.fire({type:"event",vm:g,node:p,event:c,data:f})}}function I(b,a){var c=!a;a=a||{};if(a.props||b.props){var g=a.props||{},p=b.props||{},d=g.style,f=p.style;if(m.isObj(d)||m.isObj(f))D(b.el,b.tag,d||{},f||{},C,K,b.ns,c,b),g.style=p.style=null;D(b.el,b.tag,g,p,E,O,b.ns,c,b);f&&(p.style=f)}}function D(b,a,c,g,p,d,f,e,y){for(var l in g)if(a=g[l],null!==a){var r="."===l[0]?b[l.substr(1)]:c[l];a===r||m.isArr(a)&&m.isArr(r)&&m.cmpArr(a,r)||p(b,l,a,f,e,y)}for(l in c)null!==
c[l]&&null==g[l]&&d(b,l,f,e)}function C(b,a,c){b.style[a]=m.autoPx(a,c)}function K(b,a){b.style[a]=""}function E(b,a,c,g,f,d){if("."===a[0])a=a.substr(1),"svg"===g?b[a].baseVal=c:b[a]=c;else if("class"===a)b.className=c;else if("id"===a)b[a]=c;else if(m.isEvProp(a)){for(g=d;!g.vm;)g=g.parent;b[a]=p(c,g.vm.opts.evctx||g.vm.model||null,d,g.vm)}else!1===c?O(b,a,g,f):b.setAttribute(a,!0===c?"":c)}function O(b,a,c,g){g||("."===a[0]?(a=a.substr(1),"svg"===c?b[a].baseVal=null:b[a]=null):"class"===a?b.className=
"":"id"===a||m.isEvProp(a)?b[a]=null:b.removeAttribute(a))}var P={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},J="undefined"==typeof document?{}:document,N={},G=[],L=[],H={useRaf:!0};v.view=k;v.view.config=function(b){H=b};var F=null;v.view.extend=function(b,a){F=!F||a?[]:F;F.push(b)};var m=v.utils;return v})(domvm);(function(v){var u=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,q=v.utils;v.html=function(k){var a="";switch(k.type){case q.TYPE_ELEM:a+="<"+k.tag;if(k.props){var e=q.isVal(k.props.style)?k.props.style:"",l=q.isObj(k.props.style)?k.props.style:null;if(l)for(var c in l)null!==l[c]&&(e+=q.camelDash(c)+": "+q.autoPx(c,l[c])+"; ");for(c in k.props)q.isEvProp(c)||"."===c[0]||(l=k.props[c],q.isFunc(l)&&(l=l()),q.isObj(l)||(!0===l?a+=" "+c:!1!==l&&null!==l&&
"."!==c[0]&&(a+=" "+c+'="'+l+'"')));e.length&&(a+=' style="'+e.trim()+'"')}if(k.ns&&"svg"!==k.tag&&"math"!==k.tag&&!k.body)return a+"/>";a+=">";break;case q.TYPE_TEXT:return k.body}u.test(k.tag)||(q.isArr(k.body)?k.body.forEach(function(c){a+=v.html(c)}):a+=k.body||"",a+="</"+k.tag+">");return a}})(domvm);(function(v){var u=v.utils;v.watch=function(q){function k(){}function a(a,f,e,r,k){k=k||{};k.method=a.toUpperCase();"credentials"in k||(k.credentials="same-origin");null!==e&&(u.isArr(e)||u.isObj(e)?(k.headers=k.headers||new Headers,k.headers.set("Content-Type","application/json"),k.body=JSON.stringify(e)):k.body=""+e);var x=r,A=function(a){return Promise.reject(a)};r instanceof Array&&(x=r[0],r[1]&&(A=r[1]));var g={type:"fetch",fetch:{method:a,url:f,body:e}};r=fetch(f,k).then(function(a){if(200<=
a.status&&300>a.status)return a;var c=Error(a.status+": "+a.statusText);c.data=a;return Promise.reject(c)}).then(function(a){switch(a.headers.get("Content-Type").split("; ")[0]){case "application/json":return a.json();case "text/plain":return a.text();default:return a}}).then(x,A).then(function(a){!1!==a&&l.fire(g);return a},function(a){g.error=a;l.fire(g);return Promise.reject(a)});r._fetchArgs=[a,f,e,[x,A],k];return r}var e=[];u.isFunc(q)&&e.push(q);var l={on:function(a){e.push(a);return l},off:function(a){e.splice(e.indexOf(a),
1);return l},fire:u.raft(function(a){u.execAll(e,a);return l}),prop:function(c,f,e){var r=c,w=function(a,c,f){if(arguments.length&&a!==r){f=f||{type:"prop",prop:w,data:{old:r,"new":a}};e&&(a=e(f));if("undefined"==typeof a||a===r)return r;r=f.data["new"]=a;u.isFunc(c)?c(f):!1!==c&&l.fire(f)}return r};w._prop=!0;if(f&&f.then){w.update=k;if(f._fetchArgs){var x=f._fetchArgs[3];f._fetchArgs[3]=[function(a){return w(x[0]?x[0](a):a)},x[1]];w.update=function(){a.apply(null,f._fetchArgs)}}f.then(w)}return w.toString=
w},sync:function(a,f,e){var k=a,w=f;u.isFunc(k)||(k=function(f,e,g){if("string"==typeof a){var p,l;"e."==a.substr(0,2)?(p=f,l=a.substr(2)):(p=f.target,l=a)}return u.deepGet(p,l)});u.isArr(w)&&(w=function(a,c,g){var e=f[0],k=f[1];u.isFunc(k)&&(k=k(g.event,g.node,g.vm));var r=u.deepGet(e,k);a!==r&&(u.deepSet(e,k,a,c,g),u.isFunc(c)?c(g):!1!==c&&l.fire(g))});return function(a,c,g){var f={type:"sync",vm:g,node:c,event:a};w(k(a,c,g),e,f)}},fetch:a,get:function(c,f,e){e?c+=l.query(f):e=f;return a("get",
c,null,e)},"delete":function(c,f,e){e?c+=l.query(f):e=f;return a("delete",c,null,e)},post:function(c,f,e){return a("post",c,f,e)},put:function(c,f,e){return a("put",c,f,e)},patch:function(c,f,e){return a("patch",c,f,e)},query:function(a){if(!u.isObj(a))return"";var f=[],e=encodeURIComponent,k;for(k in a)f.push(e(k)+"="+e(a[k]));return f.length?"?"+f.join("&"):""}};return l}})(domvm);(function(v){function u(a,f,e,k,l,u){var q=null,g=null,p=null;if("/"==e[0]){p=e;g=!1;k={};u=p.split("#");f=u[0].split("?");q=f[0];u=u[1];f[1]&&(l={},f[1].split("&").map(function(a){a=a.split("=");l[a[0]]=null==a[1]?!0:a[1]}));var v,D;for(D in a){e=a[D];var C=e.path;if(v=q.match(e.regexPath)){g=D;-1!==C.indexOf(":")&&(k={},v.shift(),C.replace(/:([^\/]+)/g,function(a,c){k[c]=v.shift()}));break}}}else{g=e;e=a[g];var C=f+e.path,K=e.vars||{},p=-1!==C.indexOf(":")?q=C.replace(/:([^\/]+)/g,function(a,c){if((K[c]||
/^[^\/]+$/).test(k[c]))return k[c]+="";throw Error("Invalid value for route '"+C+"' segment '"+c+"': '"+k[c]+"'");}):q=C;if(l){var p=p+"?",E;for(E in l)p+=E+(!0!==l[E]?"="+l[E]:"")+"&";p=p.slice(0,-1)}p+=u?"#"+u:""}return{href:p,name:g,path:q,segs:k,hash:u,query:l}}function q(a,e){for(var k in a){var l=a[k];l.regexPath=new RegExp("^"+e+l.path.replace(/:([^\/]+)/g,function(a,c){var e=""+((l.vars||{})[c]||/[^\/]+/);return"("+e.substring(1,e.lastIndexOf("/"))+")"})+"$")}}var k=[],a=null,e=!1,l="";v.route=
function(c,f){function v(){var a=location,a=e?a.href.substr(a.origin.length):a.hash.substr(1)||"/";return u(x,l,a)}var r=null,w={href:function(a,c,f,k,r){var q=u(x,l,a,c,f,k);return e?(a=function(a){w["goto"](q,null,null,null,r);a.preventDefault()},a.href=q.href,a):"#"+q.href},config:function(a){(e=a.useHist)&&(l=a.root||"");r=a.init||null},refresh:function(){w["goto"](v(),null,null,null,!0)},"goto":function(c,f,r,q,v){c.href||(c=u(x,l,c,f,r,q));if(!1===c.name)console.log("Could not find route");
else{f=null;for(q=0;q<k.length;q++)if(k[q].href===c.href){f=q;break}null===f&&(k.splice(a+1,1E4),k.push(c),f=k.length-1);c=k[a];q=k[f];r=!0;null!==a&&(r=(r=x[c.name].onexit)?r.apply(null,(c?[c.segs,c.query,c.hash]:[]).concat(q)):!0);!1!==r&&!1!==x[q.name].onenter.apply(null,(q?[q.segs,q.query,q.hash]:[]).concat(c))&&(e?(A=!0,history[v?"replaceState":"pushState"](null,"title",q.href)):(q="#"+q.href,location.hash!==q&&(A=!0,v?location.replace(q):location.hash=q)),a=f)}},location:function(){return null==
a?v():k[a]}},x=c(w,f);q(x,l);var A=!1;window.onhashchange=window.onpopstate=function(a){if(e||"popstate"!=a.type)!e&&A?A=!1:w["goto"](v(),null,null,null,!0)};r&&r();return w}})(domvm);
