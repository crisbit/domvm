/*
 https://github.com/leeoniya/domvm (1.x-dev)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var u=("undefined"==typeof window?{}:window).requestAnimationFrame,r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},p={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(a){return a instanceof Array},isVal:function(a){a=typeof a;return"string"===a||"number"===a},isObj:function(a){return"object"===typeof a&&null!==a&&!p.isArr(a)},isFunc:function(a){return"function"===typeof a},isProm:function(a){return"object"===typeof a&&p.isFunc(a.then)},isElem:function(a){return a instanceof HTMLElement},execAll:function(a,e,k,c,f,y){var q;a&&(p.isArr(a)?a:[a]).forEach(function(a){q=a.call(null,e,k,c,f,y)});return q},tick:function(a,e){e&&u?u&&u(function(){p.tick(a,
e-1)}):p.isArr(a)?a[0].apply(null,a.slice(1)):a()},insertArr:function(a,e,k,c){a.splice.apply(a,[k,c].concat(e))},isEvProp:function(a){return"on"===a.substr(0,2)},isDynProp:function(a,e){switch(a){case "input":case "textarea":case "select":case "option":switch(e){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(a,e){return isNaN(e)||r[a]?e:e+"px"},cmpArr:function(a,e){var k=
a.length;if(k!=e.length)return!1;for(;k--;)if(a[k]!==e[k])return!1;return!0},deepSet:function(a,e,k,c,f,y){e=e.split(".");var q=e.pop();e.forEach(function(c){a[c]||(a[c]={});a=a[c]});if(p.isFunc(a[q]))a[q](k,c,f,y);else a[q]=k},deepGet:function(a,e){var k=e.split(".");do a=a[k.shift()];while(k.length);return a},keyedIdx:function(a,e,k,c,f){for(c=0;c<e.length;c++)if(f=e[c],f.key===a)if(k){if(f.vm&&f.vm.view[0]===k)return c}else return c;return-1},raft:function(a){function e(){k=0;a.apply(c,f)}if(!u)return a;
var k,c,f;return function(){c=this;f=arguments;k||(k=u(e))}}};w.utils=p})(domvm);(function(w){function u(){for(var b,h,m=[G,L];h=m.shift();)for(;b=h.shift();)b[0].apply(null,b.slice(1))}function r(b,h){return!1===h?null:null==h&&null!=b?b:l.isVal(h)||l.isObj(h)||l.isArr(h)||l.isFunc(h)?h:null}function p(b,h,m,c,z,d){function n(b,h,d){if(d)b[h]=b[h]||[],b[h].push(d);else for(var m in h)b[m]=b[m]||[],b[m].push(h[m])}function g(b,h,m){z=b;d=h;t.update(m,!1);null!=t.node&&(z.body[d]=t.node);return p(0,!1)}function y(b){return null==b?"":b}function p(b,a){if((a=!1!==a)&&G.length)return L.push([p,
b,a]),t;if(b){for(var c=t;b--&&c.parent;)c=c.parent;c.redraw(0,!0);return c.vm}(c=t.node)&&e(t,"willRedraw",t);var C=t.refs;t.refs={};t.body=[];var n=t.render.call(t.api,t,h,m),g;if(!1===n||(g=f(n,z,d,t,!0))&&A(c,g))return c.moved=!0,c.wasSame=!0,t.refs=C,t;g.vm=t;t.node=g;C=l.isVal(m)&&"^"===m[0]?m.substr(1):l.isVal(g.ref)&&"^"===g.ref[0]?g.ref.substr(1):null;g.key=null!=m?m:g.key;for(n=z;n;)n.vm&&(t.parent||(t.parent=n.vm,n.vm.body.push(t)),null!==C&&l.deepSet(n.vm.refs,C,g)),n=n.parent;if((C=c)&&
(g.type!==c.type||g.tag!==c.tag))var C=null,y=!0,M=c.el.parentNode;q(g,C);z&&(z.body[d]=g);a&&(c&&k(c),!c&&x||v(g,null,g.el),y&&(M||g.parent.el).insertBefore(g.el,M.childNodes[c.idx]));c&&e(t,"didRedraw",t);!1!==a&&l.tick(u,2);return t}var x=!z;l.isArr(b)&&(h=b[1],m=b[2],c=b[3],b=b[0]);m=r(h,m);var t={api:{},node:null,view:[b,m],model:h,opts:c||{},render:null,update:function(b,d){null==b||m===h&&!l.isVal(m)||(h=t.model=b);return!1!==d?p(0):t},on:function(b,h){n(t.events,b,h)},hook:function(b,h){t.hooks=
t.hooks||{};n(t.hooks,b,h)},events:{},hooks:null,redraw:H.useRaf?l.raft(p):p,patch:function(b,h){var d=null!=b.el;if(l.isObj(h)){var m="class"in h?(y(b["class"])+" "+y(h["class"])).trim():b.props["class"],c="style"in h?h.style:b.props.style;d&&(d=Object.create(b.props),d["class"]=m,d.style=c,d={tag:b.tag,el:b.el,ns:b.ns,props:d},I(d,b));b.props["class"]=m;b.props.style=c}else m=b.parent,d=q(f(h,m,b.idx,t),b),m.body[b.idx]=d},emit:function(b){for(var h=Array.prototype.slice.call(arguments),d=t,m;d;){if(m=
d.events[b]){h[0]=m;l.execAll.apply(null,h);break}d=d.parent}},refs:{},parent:null,body:[],mount:function(b,h){var d=null;h&&(b.textContent="",d=b,b=null);v(t.node,d,null,b);return t},attach:function(b){a(t.node,b);return t},unmount:function(){k(t.node)},moveTo:g,updIdx:function(b){d=b}};c&&c.hooks&&t.hook(c.hooks);l.execAll(F,t);t.render=b.call(t.api,t,h,m);return z?g(z,d):p(0)}function a(b,h){b.el=h;h._node=b;for(var m in b.props){var c=b.props[m],z=l.isEvProp(m)?m:"."===m[0]?m.substr(1):null;null!==
z&&(h[z]=c)}if(l.isArr(b.body))for(m=0;m<b.body.length;m++)a(b.body[m],h.childNodes[m])}function e(b,h,m,c,a,d){if(b&&b.hooks&&(b=b.hooks[h]))if(H.useRaf&&"did"==h.substr(0,3))G.push([l.execAll,b,m,c,a,d]);else return l.execAll(b,m,c,a,d)}function k(b,h){var m=b.el&&!b.moved;if(m){var a=e(b.vm,"willUnmount",b.vm),z=e(b,"willRemove",b),d=a||z;b.removed=!0}b.wasSame?b.wasSame=!1:(l.isArr(b.body)&&b.body.forEach(function(b,m){k(b,h||d)}),h||(d?d.then(function(){c(b,m)}):c(b,m)));b.moved=!1}function c(b,
h){null!=b.el&&b.el.parentNode&&(h&&(b.el.parentNode.removeChild(b.el),b.el=null,e(b.vm,"didUnmount",b.vm),e(b,"didRemove",b)),l.isArr(b.body)&&b.body.forEach(function(b,h){c(b,!b.moved)}))}function f(b,h,m,c,a){var d=b;b={type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null};l.isFunc(d)&&(d=d());var g=d.length;if(l.isArr(d)&&g){b.type=l.TYPE_ELEM;if(1<g){var n=1;l.isObj(d[1])&&
!l.isElem(d[1])&&(b.props=d[1],n=2);b.body=g==n+1?l.isVal(d[n])?d[n]:l.isFunc(d[n])?d[n]():d.slice(n):d.slice(n)}d=d[0];g=N[d];g||(g=["",""],g={tag:(d.match(/^[-\w]+/)||["div"])[0],id:(d.match(/#([-\w]+)/)||g)[1],"class":(d.match(/\.([-\w.]+)/)||g)[1].replace(/\./g," ")},N[d]=g);b.tag=g.tag;if(g.id||g["class"])d=b.props||{},g.id&&null==d.id&&(d.id=g.id),g["class"]&&(b["class"]=g["class"],d["class"]=g["class"]+(null!=d["class"]?" "+d["class"]:"")),b.props=d;if(b.props){var d=b.props,f;for(f in d)!l.isEvProp(f)&&
l.isFunc(d[f])&&("href"==f?(d.onclick=d[f],d.href=d[f].href):d[f]=d[f]()),l.isDynProp(b.tag,f)&&(d["."+f]=d[f]);if(l.isObj(d.style))for(var e in d.style)f=d.style[e],l.isFunc(f)&&(d.style[e]=f());l.isObj(d._hooks)&&(b.hooks=d._hooks,d._hooks=null);b.key=l.isVal(d._key)?d._key:l.isVal(d._ref)?d._ref:l.isVal(d.id)?d.id:l.isVal(d.name)?d.name:null;null!=d._ref&&(b.ref=d._ref);d._raw&&(b.raw=!0);null!=d._data&&(b.data=d._data);d._diff&&(b.diff=d._diff);d._ref=d._key=d._raw=d._data=d._diff=null}}else l.isVal(d)?
(b.type=l.TYPE_TEXT,b.body=d):l.isElem(d)&&(b.type=l.TYPE_ELEM,b.el=d,b.tag=d.nodeName.toLowerCase());null!==b.ref&&l.deepSet(c.refs,b.ref,b);b.parent=h;b.idx=m;b.ns=h&&h.ns?h.ns:"svg"===b.tag||"math"===b.tag?b.tag:null;a||b.diff||!l.isArr(b.body)||y(b,c);return b}function y(b,h){for(var m=0,c=b.body.length;m<c;m++){var a=b.body[m],d=null,g=null,n=!1,e=!1;l.isFunc(a)&&(a=a());if(null==a)n=!0;else{var y=l.isArr(a),k=y?!1:l.isObj(a);if(y)a.length?"string"==typeof a[0]&&""!==a[0]?(g=f(a,b,m,h),d=g.key):
l.isFunc(a[0])?d=r(a[1],a[2]):e=!0:n=!0;else if(k)if(l.isFunc(a.redraw))a.moveTo(b,m),g=a.node,d=a.view[1];else if(l.isElem(a))g=f(a,b,m,h);else{b.body[m--]=""+a;continue}else""===a?n=!0:0<m&&b.body[m-1].type===l.TYPE_TEXT?(b.body[m-1].body+=""+a,n=!0):g=f(""+a,b,m,h)}n||e?(e?l.insertArr(b.body,a,m,1):b.body.splice(m,1),c=b.body.length,m--):(null!==d&&(b.hasKeys=!0),b.body[m]=g||a)}b.body._init=!0}function q(b,h){if(A(h,b))return h.moved=!0,h.wasSame=!0,h;h&&(e(b,"willRecycle",h,b),g(h,b),e(b,"didRecycle",
h,b));if(l.isArr(b.body)){if(!b.body._init){for(var a=b;!a.vm;)a=a.parent;y(b,a.vm)}var c=0;b.body.forEach(function(a,d){var m=l.isArr(a);if(h){var g=x(a,b,h,c);if(null!==g){var n=g[0],g=g[1];n===c&&c++;n=h.body[n];n.vm?m?2===g?n.vm.moveTo(b,d,a[1]):1===g&&p(a[0],a[1],a[2],a[3],b,d):a.vm&&2===g&&a.vm===n.vm&&n.vm.moveTo(b,d):b.body[d]=q(a,n);return}}m?p(a[0],a[1],a[2],a[3],b,d):b.body[d]=q(a)})}return b}function v(b,h,a,c){for(var g=!b.el;a&&a._node.removed;)a=a.nextSibling;g&&e(b.vm,"willMount",
b.vm);if(b.type==l.TYPE_ELEM)if(g&&(b.el=h||(b.ns?J.createElementNS(P[b.ns],b.tag):J.createElement(b.tag)),b.props&&I(b)),l.isArr(b.body)){h=0;for(var d=b.el.firstChild;h<b.body.length;h++)d=v(b.body[h],null,d)}else l.isVal(b.body)&&(b.raw?b.el.innerHTML=b.body:g&&(b.el.textContent=b.body));else b.type==l.TYPE_TEXT&&g&&(b.el=J.createTextNode(b.body));b.el._node=b;h=b.parent;a!==b.el&&(c||h&&h.el)&&(h=g?"Insert":"Reinsert",e(b,"will"+h,b),(c||b.parent.el).insertBefore(b.el,a),e(b,"did"+h,b));g&&b.vm&&
b.vm.hooks&&!b.moved&&e(b.vm,"didMount",b.vm);return a!==b.el?a:a.nextSibling}function x(b,h,a,c,g){var d=l.isArr(b),n=d?r(b[1],b[2]):b.key,f=a.hasKeys,e=h.hasKeys;a=a.body;h=h.body;if(null!==n&&f)return b=l.keyedIdx(n,a,d?b[0]:null),-1<b?[b,2]:null;c=c||0;if(c>a.length-1)return null;g=0===g?0:g||a.length-1;for(n=null;c<=g;c++)if(f=a[c],null!==f&&f.el)if(d&&f.vm){if(f.vm.view[0]===b[0]){if(f.vm.view[1]===r(b[1],b[2]))return[c,2];!n&&e&&-1==l.keyedIdx(f.key,h,f.vm.view[0])&&(n=[c,1])}}else if(b.type===
f.type&&(b.type===l.TYPE_TEXT||null!==b.tag&&b.tag===f.tag)&&(null===f.key||!e||-1==l.keyedIdx(f.key,h,f.vm?f.vm.view[0]:null)))return[c,1];return n}function A(b,a){if(b&&b.diff&&a.diff&&b.diff[0]===a.diff[0]){var c=b.diff.slice(1).concat(a.diff.slice(1));return!a.diff[0].apply(null,c)}return!1}function g(b,a){a.el=b.el;b.el=null;a.el&&(a.el._node=a);if(a.type===l.TYPE_TEXT&&a.body!==b.body)a.el.nodeValue=a.body;else{I(a,b);var c=!l.isArr(a.body),g=!l.isArr(b.body);c&&a.body!==b.body?g&&a.el.firstChild?
a.el.firstChild.nodeValue=a.body:a.raw?a.el.innerHTML=a.body:a.el.textContent=a.body:g&&!c&&(a.el.textContent="");b.moved=!0}}function n(b,a,c,g){return function(c){var d,n=c.target._node,f=null;if(l.isFunc(b))d=b.call(a,c,n,g);else if(l.isArr(b))f=b.slice(1),d=b[0].apply(a,f.concat(c,n,g));else if(l.isObj(b))for(var m in b){var e=b[m];null!=e&&"_"!=m[0]&&c.target.matches(m)&&(l.isArr(e)?(f=e.slice(1),d=e[0].apply(a,f.concat(c,n,g))):l.isFunc(e)&&(d=e.call(a,c,n,g)))}!1===d&&(c.preventDefault(),c.stopPropagation());
g.opts.hasOwnProperty("watch")&&g.opts.watch.fire({type:"event",vm:g,node:n,event:c,data:f})}}function I(b,a){var c=!a;a=a||{};if(a.props||b.props){var g=a.props||{},n=b.props||{},d=g.style,f=n.style;if(l.isObj(d)||l.isObj(f))D(b.el,b.tag,d||{},f||{},B,K,b.ns,c,b),g.style=n.style=null;D(b.el,b.tag,g,n,E,O,b.ns,c,b);f&&(n.style=f)}}function D(b,a,c,g,n,d,f,e,y){for(var k in g)if(a=g[k],null!==a){var q="."===k[0]?b[k.substr(1)]:c[k];a===q||l.isArr(a)&&l.isArr(q)&&l.cmpArr(a,q)||n(b,k,a,f,e,y)}for(k in c)null!==
c[k]&&null==g[k]&&d(b,k,f,e)}function B(b,a,c){b.style[a]=l.autoPx(a,c)}function K(b,a){b.style[a]=""}function E(b,a,c,g,f,d){if("."===a[0])a=a.substr(1),"svg"===g?b[a].baseVal=c:b[a]=c;else if("class"===a)b.className=c;else if("id"===a)b[a]=c;else if(l.isEvProp(a)){for(g=d;!g.vm;)g=g.parent;b[a]=n(c,g.vm.opts.evctx||g.vm.model||null,d,g.vm)}else!1===c?O(b,a,g,f):b.setAttribute(a,!0===c?"":c)}function O(b,a,c,g){g||("."===a[0]?(a=a.substr(1),"svg"===c?b[a].baseVal=null:b[a]=null):"class"===a?b.className=
"":"id"===a||l.isEvProp(a)?b[a]=null:b.removeAttribute(a))}var P={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},J="undefined"==typeof document?{}:document,N={},G=[],L=[],H={useRaf:!0};w.view=p;w.view.config=function(b){H=b};var F=null;w.view.extend=function(b,a){F=!F||a?[]:F;F.push(b)};var l=w.utils;return w})(domvm);(function(w){var u=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,r=w.utils;w.html=function(p){var a="";switch(p.type){case r.TYPE_ELEM:a+="<"+p.tag;if(p.props){var e=r.isVal(p.props.style)?p.props.style:"",k=r.isObj(p.props.style)?p.props.style:null;if(k)for(var c in k)null!==k[c]&&(e+=r.camelDash(c)+": "+r.autoPx(c,k[c])+"; ");for(c in p.props)r.isEvProp(c)||"."===c[0]||(k=p.props[c],r.isFunc(k)&&(k=k()),r.isObj(k)||(!0===k?a+=" "+c:!1!==k&&null!==k&&
"."!==c[0]&&(a+=" "+c+'="'+k+'"')));e.length&&(a+=' style="'+e.trim()+'"')}if(p.ns&&"svg"!==p.tag&&"math"!==p.tag&&!p.body)return a+"/>";a+=">";break;case r.TYPE_TEXT:return p.body}u.test(p.tag)||(r.isArr(p.body)?p.body.forEach(function(c){a+=w.html(c)}):a+=p.body||"",a+="</"+p.tag+">");return a}})(domvm);(function(w){var u=w.utils;w.watch=function(r){function p(){}function a(a,f,e,q,v){v=v||{};v.method=a.toUpperCase();"credentials"in v||(v.credentials="same-origin");null!==e&&(u.isArr(e)||u.isObj(e)?(v.headers=v.headers||new Headers,v.headers.set("Content-Type","application/json"),v.body=JSON.stringify(e)):v.body=""+e);var x=q,A=p;q instanceof Array&&(x=q[0],q[1]&&(A=q[1]));var g={type:"fetch",fetch:{method:a,url:f,body:e}};q=fetch(f,v).then(function(a){if(200<=a.status&&300>a.status)return a;var c=
Error(a.status+": "+a.statusText);c.data=a;return Promise.reject(c)}).then(function(a){switch(a.headers.get("Content-Type").split("; ")[0]){case "application/json":return a.json();case "text/plain":return a.text();default:return a}}).then(x,A).then(function(a){!1!==a&&k.fire(g);return a},function(a){g.error=a;k.fire(g);return a});q._fetchArgs=[a,f,e,[x,A],v];return q}var e=[];u.isFunc(r)&&e.push(r);var k={on:function(a){e.push(a);return k},off:function(a){e.splice(e.indexOf(a),1);return k},fire:u.raft(function(a){u.execAll(e,
a);return k}),prop:function(c,f,e){var q=c,v=function(a,c,f){if(arguments.length&&a!==q){f=f||{type:"prop",prop:v,data:{old:q,"new":a}};e&&(a=e(f));if("undefined"==typeof a||a===q)return q;q=f.data["new"]=a;u.isFunc(c)?c(f):!1!==c&&k.fire(f)}return q};v._prop=!0;if(f&&f.then){v.update=p;if(f._fetchArgs){var x=f._fetchArgs[3];f._fetchArgs[3]=[function(a){return v(x[0]?x[0](a):a)},x[1]];v.update=function(){a.apply(null,f._fetchArgs)}}f.then(v)}return v.toString=v},sync:function(a,f,e){var q=a,p=f;u.isFunc(q)||
(q=function(f,e,g){if("string"==typeof a){var n,k;"e."==a.substr(0,2)?(n=f,k=a.substr(2)):(n=f.target,k=a)}return u.deepGet(n,k)});u.isArr(p)&&(p=function(a,c,g){var e=f[0],q=f[1];u.isFunc(q)&&(q=q(g.event,g.node,g.vm));var p=u.deepGet(e,q);a!==p&&(u.deepSet(e,q,a,c,g),u.isFunc(c)?c(g):!1!==c&&k.fire(g))});return function(a,c,g){var f={type:"sync",vm:g,node:c,event:a};p(q(a,c,g),e,f)}},fetch:a,get:function(c,f,e){e?c+=k.query(f):e=f;return a("get",c,null,e)},"delete":function(c,f,e){e?c+=k.query(f):
e=f;return a("delete",c,null,e)},post:function(c,f,e){return a("post",c,f,e)},put:function(c,f,e){return a("put",c,f,e)},patch:function(c,f,e){return a("patch",c,f,e)},query:function(a){if(!u.isObj(a))return"";var f=[],e=encodeURIComponent,k;for(k in a)f.push(e(k)+"="+e(a[k]));return f.length?"?"+f.join("&"):""}};return k}})(domvm);(function(w){function u(a,f,e,k,p,u){var r=null,g=null,n=null;if("/"==e[0]){n=e;g=!1;k={};u=n.split("#");f=u[0].split("?");r=f[0];u=u[1];f[1]&&(p={},f[1].split("&").map(function(a){a=a.split("=");p[a[0]]=null==a[1]?!0:a[1]}));var w,D;for(D in a){e=a[D];var B=e.path;if(w=r.match(e.regexPath)){g=D;-1!==B.indexOf(":")&&(k={},w.shift(),B.replace(/:([^\/]+)/g,function(a,c){k[c]=w.shift()}));break}}}else{g=e;e=a[g];var B=f+e.path,K=e.vars||{},n=-1!==B.indexOf(":")?r=B.replace(/:([^\/]+)/g,function(a,c){if((K[c]||
/^[^\/]+$/).test(k[c]))return k[c]+="";throw Error("Invalid value for route '"+B+"' segment '"+c+"': '"+k[c]+"'");}):r=B;if(p){var n=n+"?",E;for(E in p)n+=E+(!0!==p[E]?"="+p[E]:"")+"&";n=n.slice(0,-1)}n+=u?"#"+u:""}return{href:n,name:g,path:r,segs:k,hash:u,query:p}}function r(a,e){for(var k in a){var p=a[k];p.regexPath=new RegExp("^"+e+p.path.replace(/:([^\/]+)/g,function(a,c){var e=""+((p.vars||{})[c]||/[^\/]+/);return"("+e.substring(1,e.lastIndexOf("/"))+")"})+"$")}}var p=[],a=null,e=!1,k="";w.route=
function(c,f){function w(){var a=location,a=e?a.href.substr(a.origin.length):a.hash.substr(1)||"/";return u(x,k,a)}var q=null,v={href:function(a,c,f,p,q){var r=u(x,k,a,c,f,p);return e?(a=function(a){v["goto"](r,null,null,null,q);a.preventDefault()},a.href=r.href,a):"#"+r.href},config:function(a){(e=a.useHist)&&(k=a.root||"");q=a.init||null},refresh:function(){v["goto"](w(),null,null,null,!0)},"goto":function(c,f,q,r,v){c.href||(c=u(x,k,c,f,q,r));if(!1===c.name)console.log("Could not find route");
else{f=null;for(r=0;r<p.length;r++)if(p[r].href===c.href){f=r;break}null===f&&(p.splice(a+1,1E4),p.push(c),f=p.length-1);c=p[a];r=p[f];q=!0;null!==a&&(q=(q=x[c.name].onexit)?q.apply(null,(c?[c.segs,c.query,c.hash]:[]).concat(r)):!0);!1!==q&&!1!==x[r.name].onenter.apply(null,(r?[r.segs,r.query,r.hash]:[]).concat(c))&&(e?(A=!0,history[v?"replaceState":"pushState"](null,"title",r.href)):(r="#"+r.href,location.hash!==r&&(A=!0,v?location.replace(r):location.hash=r)),a=f)}},location:function(){return null==
a?w():p[a]}},x=c(v,f);r(x,k);var A=!1;window.onhashchange=window.onpopstate=function(a){if(e||"popstate"!=a.type)A?A=!1:v["goto"](w(),null,null,null,!0)};q&&q();return v}})(domvm);
