// https://github.com/domvm/domvm (v3.4.6, full build)
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.domvm={})}(this,function(e){"use strict";var C=1,f=2,S=3,A=4,R=5,n="undefined"!=typeof window,t=n?document:{},u=(n?window:{}).requestAnimationFrame,i={};function E(){}var s=Array.isArray;function a(e){return null!=e&&e.constructor===Object}function l(e,n,t,r){e.splice.apply(e,[t,r].concat(n))}function o(e){var n=typeof e;return"string"===n||"number"===n}function d(e){return"function"==typeof e}function c(e){return"object"==typeof e&&d(e.then)}function v(e){for(var n=arguments,t=1;t<n.length;t++)for(var r in n[t])e[r]=n[t][r];return e}function r(e,n,t){var r;while(r=n.shift())0===n.length?e[r]=t:e[r]=e=e[r]||{}}function y(e,n){for(var t=[],r=n;r<e.length;r++)t.push(e[r]);return t}function p(e,n){for(var t in e)if(e[t]!==n[t])return false;return true}function h(e,n){var t=e.length;if(n.length!==t)return false;for(var r=0;r<t;r++)if(e[r]!==n[r])return false;return true}function m(e){if(!u)return e;var n,t,r;function l(){n=0,e.apply(t,r)}return function(){t=this,r=arguments,n||(n=u(l))}}function b(e,n,t){return function(){return e.apply(t,n)}}function g(e){for(var n,t,r,l=e.slice(),u=[0],a=0,o=0;o<e.length;++o){var i=e[o];if(-1!==i)if(e[r=u[a]]<i)l[o]=r,u[++a]=o;else{n=0,t=a;while(n<t)e[u[r=(n+t)/2|0]]<i?n=r+1:t=r;i<e[u[n]]&&(0<n&&(l[o]=u[n-1]),u[n]=o)}}t=u[a];while(0<=a)t=l[u[a--]=t];return u}function k(e,n){var t,r=0,l=n.length-1;if(l<=2147483647)while(r<=l){if(n[t=r+l>>1]===e)return t;n[t]<e?r=t+1:l=t-1}else while(r<=l){if(n[t=Math.floor((r+l)/2)]===e)return t;n[t]<e?r=t+1:l=t-1}return r==n.length?null:r}function w(e){return"."===e[0]}function _(e){return"o"===e[0]&&"n"===e[1]}function x(e){return"_"===e[0]}function N(e){return"style"===e}function O(e){e&&e.el&&e.el.offsetHeight}function I(e){return null!=e.node&&null!=e.node.el}function j(e,n){switch(n){case"value":case"checked":case"selected":return true}return false}function M(e){e=e||i;while(null==e.vm&&e.parent)e=e.parent;return e.vm}function L(){}var V=L.prototype={constructor:L,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_diff:null,_dead:false,_lis:false,idx:null,parent:null};function D(e){var n=new L;return n.type=f,n.body=e,n}V._class=null;var T={},U=/\[(\w+)(?:=(\w+))?\]/g;function z(e){var n=T[e];if(null==n){var t,r,l,u;T[e]=n={tag:(t=e.match(/^[-\w]+/))?t[0]:"div",id:(r=e.match(/#([-\w]+)/))?r[1]:null,class:(l=e.match(/\.([-\w.]+)/))?l[1].replace(/\./g," "):null,attrs:null};while(u=U.exec(e))null==n.attrs&&(n.attrs={}),n.attrs[u[1]]=u[2]||""}return n}var F=1,H=2,G=4,P=8;function W(e,n,t,r){var l=new L;l.type=C,l.flags=r||0,l.attrs=n||null;var u=z(e);e=u.tag;var a=null!=u.id,o=null!=u.class,i=null!=u.attrs;if(a||o||i){var f=l.attrs||{};if(a&&null==f.id&&(f.id=u.id),o&&(l._class=u.class,f.class=u.class+(null!=f.class?" "+f.class:"")),i)for(var s in u.attrs)null==f[s]&&(f[s]=u.attrs[s]);l.attrs=f}if(l.tag=e,null!=l.attrs){var d=l.attrs;null!=d._key&&(l.key=d._key),null!=d._ref&&(l.ref=d._ref),null!=d._hooks&&(l.hooks=d._hooks),null!=d._data&&(l.data=d._data),null!=d._flags&&(l.flags=d._flags),null==l.key&&(null!=l.ref?l.key=l.ref:null!=d.id?l.key=d.id:null!=d.name&&(l.key=d.name+("radio"===d.type||"checkbox"===d.type?d.value:"")))}return null!=t&&(l.body=t)instanceof q&&(l.flags=t.flags),l}function q(t,r,n){var l,u=this,a=t.length;u.flags=P,u.items=t,u.length=a,u.key=function(){return null},u.diff={val:function(e,n){return r.val(t[e],n)},cmp:function(e,n){return r.cmp(n._diff,u.diff.val(e))}},u.tpl=function(e){return l(t[e],e)},u.map=function(e){return l=e,u},u.body=function(e){for(var n=[],t=0;t<a;t++){var r=u.tpl(t);r.type!=A&&(r._diff=u.diff.val(t,e)),n.push(r)}e.body=n,Q(e)},null!=n&&(u.flags|=G,u.key=function(e){return n(t[e],e)}),d(r)&&(u.diff={val:function(e){return r(t[e])},cmp:function(e,n){var t=n._diff,r=u.diff.val(e),l=s(t)?h:p;return!(t===r||l(t,r))}})}var B=function(e){return e},Y=E,$=E;function K(e){B=e.val,Y=e.on,$=e.off}function X(e,n,t){r(e,("refs."+n).split("."),t)}function Z(e){while(e=e.parent)e.flags|=F}function J(e,n,t,r){if(e.type!==R&&e.type!==A){e.parent=n,e.idx=t,e.vm=r,null!=e.ref&&X(M(e),e.ref,e);var l=e.hooks,u=r&&r.hooks;(l&&(l.willRemove||l.didRemove)||u&&(u.willUnmount||u.didUnmount))&&Z(e),s(e.body)?Q(e):""===e.body?e.body=null:(e.body=B(e.body,M(e)._stream),null==e.body||e.body instanceof q||(e.body=""+e.body))}}function Q(e){for(var n=e.body,t=0;t<n.length;t++){var r=n[t];false===r||null==r?n.splice(t--,1):s(r)?l(n,r,t--,1):(null==r.type&&(n[t]=r=D(""+r)),r.type===f?null==r.body||""===r.body?n.splice(t--,1):0<t&&n[t-1].type===f?(n[t-1].body+=r.body,n.splice(t--,1)):J(r,e,t,null):J(r,e,t,null))}}var ee={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,order:true,lineClamp:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function ne(e,n){return isNaN(n)||ee[e]?n:n+"px"}function te(e,n){var t=(e.attrs||i).style,r=n?(n.attrs||i).style:null;if(null==t||o(t))e.el.style.cssText=t;else{for(var l in t){var u=t[l];t[l]=u=B(u,M(e)._stream),(null==r||null!=u&&u!==r[l])&&(e.el.style[l]=ne(l,u))}if(r)for(var a in r)null==t[a]&&(e.el.style[a]="")}}var re={};function le(e){v(re,e)}var ue=E,ae=false;var oe={};function ie(e){oe[e]||(oe[e]=true,se(t,e,ve,true))}function fe(e,n,t,r){e.removeEventListener(n.slice(2),t,r)}function se(e,n,t,r){e.addEventListener(n.slice(2),t,r)}function de(e,n,t,r,l){var u,a,o=e.apply(l,n.concat([t,r,l,l.data]));if(u=l.onevent(t,r,l,l.data,n),a=ue.call(null,t,r,l,l.data,n),false===o||false===u||false===a)return t.preventDefault(),t.stopPropagation(),false}function ce(e,n){var t,r,l="on"+e,u=[];while(n)(r=n.attrs)&&(t=r[l])&&s(t)&&u.unshift(t),n=n.parent;return u}function ve(e){var n=e.target._node;if(null!=n)for(var t=ce(e.type,n),r=M(n),l=0;l<t.length;l++){if(false===de(t[l][0],t[l].slice(1),e,n,r))break}}function ye(e,n,t,r){if(t!=r){var l=e.el;d(t)?se(l,n,t,false):null!=t&&ie(n),d(r)&&fe(l,n,r,false)}}function pe(e,n,t){w(n)&&(n=n.substr(1),t=true),t?e.el[n]="":e.el.removeAttribute(n)}function he(e,n,t,r){var l=e.el;null!=e.ns?l.setAttribute(n,t):"class"===n?l.className=t:"id"===n||"boolean"==typeof t||r?l[n]=t:"."===n[0]?l[n.substr(1)]=t:l.setAttribute(n,t)}function me(e,n){var t=e.attrs||i,r=n.attrs||i;if(t===r);else{for(var l in t){var u=t[l];if(null!=u){var a=j(e.tag,l),o=a?e.el[l]:r[l];t[l]=u=B(u,(M(e)||i)._stream),u===o||(N(l)?te(e,n):x(l)||(_(l)?ye(e,l,u,o):he(e,l,u,a)))}}for(var l in r)null==t[l]&&(_(l)?ye(e,l,t[l],r[l]):x(l)||pe(e,l,j(e.tag,l)))}}function be(e,n,t,r){return e.type===A&&(n=e.data,t=e.key,r=e.opts,e=e.view),new Xe(e,n,t,r)}var ge=[];function ke(e,n,t,r,l){if(null!=e){var u=t.hooks[n];if(u){if("d"!==n[0]||"i"!==n[1]||"d"!==n[2])return u(t,r);l?O(t.parent)&&u(t,r):ge.push([u,t,r])}}}function we(e){if(ge.length){var n;O(e.node);while(n=ge.shift())n[0](n[1],n[2])}}function _e(e,n){return null!=n?t.createElementNS(n,e):t.createElement(e)}function xe(e){return t.createTextNode(e)}function Ne(e){return t.createComment(e)}function Ce(e){return e.nextSibling}function Se(e){var n=e.vm,t=null!=n&&ke(n.hooks,"willUnmount",n,n.data),r=ke(e.hooks,"willRemove",e);if((e.flags&F)===F&&s(e.body))for(var l=0;l<e.body.length;l++)Se(e.body[l]);return t||r}function Ae(e,n){if(n){var t=e.vm;null!=t&&(t.node=t.refs=null)}var r=e.body;if(s(r))for(var l=0;l<r.length;l++)Ae(r[l],true)}function Re(e,n,t){var r=n._node,l=r.vm;if(Ae(r,true),(r.flags&F)===F)for(var u=0;u<r.body.length;u++)Re(n,r.body[u].el);delete n._node,e.removeChild(n),ke(r.hooks,"didRemove",r,null,t),null!=l&&(ke(l.hooks,"didUnmount",l,l.data,t),l.node=null)}function Ee(e,n){var t=n._node;if(!t._dead){var r=Se(t);null!=r&&c(r)?(t._dead=true,r.then(b(Re,[e,n,true]))):Re(e,n)}}function Oe(e){var n=e.el;if(0==(e.flags&F))Ae(e,false),n.textContent=null;else{var t=n.firstChild;if(null!=t)do{var r=Ce(t);Ee(n,t)}while(t=r)}}function Ie(e,n,t){var r=n._node,l=null!=n.parentNode,u=n!==t&&l?null:r.vm;null!=u&&ke(u.hooks,"willMount",u,u.data),ke(r.hooks,l?"willReinsert":"willInsert",r),e.insertBefore(n,t),ke(r.hooks,l?"didReinsert":"didInsert",r),null!=u&&ke(u.hooks,"didMount",u,u.data)}function je(e,n,t){Ie(e,n,t?Ce(t):null)}function Me(e){for(var n=0;n<e.body.length;n++){var t=e.body[n],r=t.type;if(r<=S)Ie(e.el,Le(t));else if(r===A){r=(l=be(t.view,t.data,t.key,t.opts)._redraw(e,n,false)).node.type,Ie(e.el,Le(l.node))}else if(r===R){var l;(l=t.vm)._update(t.data,e,n),r=l.node.type,Ie(e.el,l.node.el)}}}function Le(e,n){return null==e.el&&(e.type===C?(e.el=n||_e(e.tag,e.ns),null!=e.attrs&&me(e,i),(e.flags&P)===P&&e.body.body(e),s(e.body)?Me(e):null!=e.body&&(e.el.textContent=e.body)):e.type===f?e.el=n||xe(e.body):e.type===S&&(e.el=n||Ne(e.body))),(e.el._node=e).el}function Ve(e){return e.parent}var De=1,Te=2;function Ue(i,f,s,d,c,v,y,p){return function(e,n,t,r,l,u){var a,o;if(null!=r[d]){if(null==(a=r[d]._node))return void(r[d]=i(r[d]));if(Ve(a)!==e)return o=i(r[d]),null!=a.vm?a.vm.unmount(true):Ee(n,r[d]),void(r[d]=o)}if(r[c]==l)return Te;if(null==r[c].el)s(n,Le(r[c]),r[d]),r[c]=f(r[c],t);else if(r[c].el===r[d])r[c]=f(r[c],t),r[d]=i(r[d]);else{if(u||a!==r[y])return u&&null!=r[d]?ze(i,f,s,d,c,n,t,a,r):De;o=r[d],r[d]=i(o),p(n,o,r[v]),r[v]=o}}}function ze(e,n,t,r,l,u,a,o,i){if(o._lis)t(u,i[l].el,i[r]),i[l]=n(i[l],a);else{var f=k(o.idx,i.tombs);o._lis=true;var s=e(i[r]);t(u,i[r],null!=f?a[i.tombs[f]].el:f),null==f?i.tombs.push(o.idx):i.tombs.splice(f,0,o.idx),i[r]=s}}var Fe=Ue(Ce,function(e,n){return n[e.idx+1]},Ie,"lftSib","lftNode","rgtSib","rgtNode",je),He=Ue(function(e){return e.previousSibling},function(e,n){return n[e.idx-1]},je,"rgtSib","rgtNode","lftSib","lftNode",Ie);function Ge(e,n){var t=n.body,r=e.el,l=e.body,u={lftNode:l[0],rgtNode:l[l.length-1],lftSib:(t[0]||i).el,rgtSib:(t[t.length-1]||i).el};e:while(1){while(1){var a=Fe(e,r,l,u,null,false);if(a===De)break;if(a===Te)break e}while(1){var o=He(e,r,l,u,u.lftNode,false);if(o===De)break;if(o===Te)break e}Pe(e,r,l,u);break}}function Pe(e,n,t,r){var l=[],u=n.firstChild;do{var a=u._node;a.parent===e&&l.push(a.idx)}while(u=Ce(u));for(var o=g(l).map(function(e){return l[e]}),i=0;i<o.length;i++)t[o[i]]._lis=true;r.tombs=o;while(1){if(Fe(e,n,t,r,null,true)===Te)break}}function We(e){return e.el._node.parent!==e.parent}function qe(e,n,t){return n[t]}function Be(e,n,t){for(;t<n.length;t++){var r=n[t];if(null!=r.vm){if(e.type===A&&r.vm.view===e.view&&r.vm.key===e.key||e.type===R&&r.vm===e.vm)return r}else if(!We(r)&&e.tag===r.tag&&e.type===r.type&&e.key===r.key&&(e.flags&~F)==(r.flags&~F))return r}return null}function Ye(e,n,t){if(null==n._keys){if(n[t].key===e.key)return n[t];for(var r={},l=0;l<n.length;l++)r[n[l].key]=l;n._keys=r}return n[n._keys[e.key]]}function $e(e,n){ke(n.hooks,"willRecycle",n,e);var t=e.el=n.el,r=n.body,l=e.body;if((t._node=e).type!==f||l===r){null==e.attrs&&null==n.attrs||me(e,n);var u=s(r),a=s(l),o=(e.flags&P)===P;u?a||o?Ke(e,n):l!==r&&(null!=l?t.textContent=l:Oe(n)):a?(Oe(n),Me(e)):l!==r&&(null!=l&&null!=r?t.firstChild.nodeValue=l:t.textContent=l),ke(n.hooks,"didRecycle",n,e)}else t.nodeValue=l}function Ke(e,n){var t=e.body,r=t.length,l=n.body,u=l.length,a=(e.flags&P)===P,o=(e.flags&H)===H,i=(e.flags&G)===G,f=!o&&e.type===C,s=true,d=0===u?E:i?Ye:o||a?qe:Be;if(f&&0===r)return Oe(n),void(a&&(e.body=[]));var c,v,y=0,p=false,h=0;if(a)var m={key:null},b=e.body=Array(r);for(var g=0;g<r;g++){if(a){var k=false;s&&(i&&(m.key=t.key(g)),c=d(m,l,h)),null!=c?(v=c.idx,t.diff.cmp(g,c)?k=true:((w=c).parent=e,w.idx=g,w._lis=false)):k=true,k&&((w=t.tpl(g)).type===A?w=null!=c?c.vm._update(w.data,e,g).node:be(w.view,w.data,w.key,w.opts)._redraw(e,g,false).node:(J(w,e,g),w._diff=t.diff.val(g,e),null!=c&&$e(w,c))),b[g]=w}else{var w,_=(w=t[g]).type;if(_<=S)(c=s&&d(w,l,h))&&($e(w,c),v=c.idx);else if(_===A)(c=s&&d(w,l,h))?(v=c.idx,c.vm._update(w.data,e,g)):be(w.view,w.data,w.key,w.opts)._redraw(e,g,false);else if(_===R){var x=w.vm,N=I(x);N&&x.node.parent!=n&&(x.unmount(true),N=false),x._update(w.data,e,g,N)}}if(null!=c&&(v===h?++h===u&&u<r&&(c=null,s=false):p=true,!i&&100<u&&p&&++y%10==0))while(h<u&&We(l[h]))h++}f&&Ge(e,n)}function Xe(e,n,t,r){var l=this;l.view=e,l.data=n,l.key=t,r&&(l.opts=r,l.config(r));var u=a(e)?e:e.call(l,l,n,t,r);d(u)?l.render=u:(l.render=u.render,l.config(u)),l.init&&l.init.call(l,l,l.data,l.key,r)}var Ze=Xe.prototype={constructor:Xe,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,refs:null,render:null,mount:function(e,n){var t=this;n?(Oe({el:e,flags:0}),t._redraw(null,null,false),e.nodeName.toLowerCase()!==t.node.tag?(Le(t.node),Ie(e.parentNode,t.node.el,e),e.parentNode.removeChild(e)):Ie(e.parentNode,Le(t.node,e),e)):(t._redraw(null,null),e&&Ie(e,t.node.el));e&&we(t);return t},unmount:function(e){$(this._stream),this._stream=null;var n=this.node;Ee(n.el.parentNode,n.el),n.el=null,e||we(this)},config:function(e){var n=this;e.init&&(n.init=e.init),e.diff&&d(e.diff)&&(n.diff={val:e.diff,cmp:function(e,n,t){var r=s(n)?h:p;return!(n===t||r(n,t))}}),e.onevent&&(n.onevent=e.onevent),e.hooks&&(n.hooks=v(n.hooks||{},e.hooks)),e.onemit&&(n.onemit=v(n.onemit||{},e.onemit))},parent:function(){return M(this.node.parent)},root:function(){var e=this.node;while(e.parent)e=e.parent;return e.vm},redraw:function(e){var n=this;return null==e&&(e=ae),e?n._redraw(null,null,I(n)):(n._redrawAsync=n._redrawAsync||m(function(){return n.redraw(true)}))(),n},update:function(e,n){var t=this;return null==n&&(n=ae),n?t._update(e,null,null,I(t)):(t._updateAsync=t._updateAsync||m(function(e){return t.update(e,true)}))(e),t},_update:function(e,n,t,r){var l=this;null!=e&&l.data!==e&&(ke(l.hooks,"willUpdate",l,e),l.data=e);return l._redraw(n,t,r)},_redraw:function(e,n,t){var r,l,u=null==e,a=this,o=a.node&&a.node.el&&a.node.el.parentNode,i=null!=a.diff,f=a.node;if(i&&(l=a.diff.val(a,a.data,a.key,e,n),null!=f&&(r=f._diff,!a.diff.cmp(a,r,l))))return Je(a,f,e,n);o&&ke(a.hooks,"willRedraw",a,a.data);var s=a.render.call(a,a,a.data,a.key,e,n);i&&(s._diff=l);if(s===f)return Je(a,f,e,n);(a.refs=null)!=a.key&&s.key!==a.key&&(s.key=a.key);a.node=s,a._stream=[],e?(J(s,e,n,a),e.body[n]=s):f&&f.parent?(J(s,f.parent,f.idx,a),f.parent.body[f.idx]=s):J(s,null,null,a);if(false!==t)if(f)if(f.tag!==s.tag||f.key!==s.key){f.vm=s.vm=null;var d=f.el.parentNode,c=Ce(f.el);Ee(d,f.el),Ie(d,Le(s),c),f.el=s.el,s.vm=a}else $e(s,f);else Le(s);B(a.data,a._stream),a._stream=Y(a._stream,a),o&&ke(a.hooks,"didRedraw",a,a.data),u&&o&&we(a);return a}};function Je(e,n,t,r){return null!=t&&((t.body[r]=n).idx=r,n.parent=t,n._lis=false),e}function Qe(e,n,t,r){var l,u;return null==t?a(n)?l=n:u=n:(l=n,u=t),W(e,l,u,r)}Ze._redrawAsync=Ze._updateAsync=null,Ze.onevent=E;var en="http://www.w3.org/2000/svg";function nn(e,n,t,r){this.view=e,this.data=n,this.key=t,this.opts=r}function tn(e,n){this.vm=e,this.data=n}function rn(e,n,t){if(a(n)){var r=Object.create(e);r.attrs=v({},e.attrs),null!=n.class&&null!=e._class&&(n.class=e._class+" "+n.class);v(e.attrs,n);me(e,r),t&&O(e)}else{if(null!=e.vm)return;J(n,e.parent,e.idx,null),$e(e.parent.body[e.idx]=n,e),t&&O(n),we(M(n))}}function ln(e){var n,t,r=arguments,l=r.length;if(1<l){var u=1;a(r[1])&&(t=r[1],u=2),n=l!==u+1||r[u]instanceof L||r[u]instanceof nn||r[u]instanceof tn?y(r,u):r[u]}return W(e,t,n)}function un(e,n){var t=e.body;if(s(t))for(var r=0;r<t.length;r++){var l=t[r];null!=l.vm?n.push(l.vm):un(l,n)}return n}function an(e,n){var t=((e.el=n)._node=e).attrs;for(var r in t){var l=t[r],u=j(e.tag,r);N(r)||x(r)||(_(r)?ye(e,r,l):null!=l&&u&&he(e,r,l,u))}if((e.flags&P)===P&&e.body.body(e),s(e.body)&&0<e.body.length){var a=n.firstChild,o=0,i=e.body[o];do{i.type===A?i=be(i.view,i.data,i.key,i.opts)._redraw(e,o,false).node:i.type===R&&(i=i.vm.node||i.vm._update(i.data,e,o,false).node),an(i,a)}while((a=a.nextSibling)&&(i=e.body[++o]))}}function on(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fn(e){var n="";for(var t in e)null!=e[t]&&(n+=on(t)+": "+ne(t,e[t])+"; ");return n}function sn(e){return null==e?"":""+e}nn.prototype={constructor:nn,type:A,view:null,data:null,key:null,opts:null},tn.prototype={constructor:tn,type:R,vm:null,data:null},V.patch=function(e,n){rn(this,e,n)},Ze.emit=function(e){var n=this,t=n,r=y(arguments,1).concat(t,t.data);do{var l=n.onemit,u=l?l[e]:null;if(u){u.apply(n,r);break}}while(n=n.parent());re[e]&&re[e].apply(n,r)},Ze.onemit=null,Ze.body=function(){return un(this.node,[])},Ze._stream=null;var dn={area:true,base:true,br:true,col:true,command:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};function cn(e){e=sn(e);for(var n=0,t="";n<e.length;n++)switch(e[n]){case"&":t+="&amp;";break;case"<":t+="&lt;";break;case">":t+="&gt;";break;default:t+=e[n]}return t}function vn(e){e=sn(e);for(var n=0,t="";n<e.length;n++)t+='"'===e[n]?"&quot;":e[n];return t}function yn(e,n){for(var t="",r=0;r<e.length;r++)t+=hn(e[r],n);return t}var pn=".innerHTML";function hn(e,n){var t,r;switch(e.type){case A:t=be(e.view,e.data,e.key,e.opts).html(n);break;case R:t=e.vm.html();break;case C:if(null!=e.el&&null==e.tag){t=e.el.outerHTML;break}var l="";l+="<"+e.tag;var u=e.attrs,a=null!=u;if(a){for(var o in u)if(!(_(o)||w(o)||x(o)||false===n&&j(e.tag,o))){var i=u[o];"style"!==o||null==i?true===i?l+=" "+cn(o)+'=""':false===i||null!=i&&(l+=" "+cn(o)+'="'+vn(i)+'"'):r="object"==typeof i?fn(i):i}null!=r&&(l+=' style="'+vn(r.trim())+'"')}if(null==e.body&&null!=e.ns&&"svg"!==e.tag)return l+"/>";l+=">",dn[e.tag]||(a&&null!=u[pn]?l+=u[pn]:s(e.body)?l+=yn(e.body,n):(e.flags&P)===P?(e.body.body(e),l+=yn(e.body,n)):l+=cn(e.body),l+="</"+e.tag+">"),t=l;break;case f:t=cn(e.body);break;case S:t="\x3c!--"+cn(e.body)+"--\x3e"}return t}Ze.attach=function(e){return null==this.node&&this._redraw(null,null,false),an(this.node,e),this},Ze.html=function(e){return null==this.node&&this._redraw(null,null,false),hn(this.node,e)},V.html=function(e){return hn(this,e)},e.defineElementSpread=ln,e.defineSvgElementSpread=function(){var e=ln.apply(null,arguments);return e.ns=en,e},e.ViewModel=Xe,e.VNode=L,e.createView=be,e.defineElement=Qe,e.defineSvgElement=function(e,n,t,r){var l=Qe(e,n,t,r);return l.ns=en,l},e.defineText=D,e.defineComment=function(e){var n=new L;return n.type=S,n.body=e,n},e.defineView=function(e,n,t,r){return new nn(e,n,t,r)},e.injectView=function(e,n){return new tn(e,n)},e.injectElement=function(e){var n=new L;return n.type=C,n.el=n.key=e,n},e.list=function(e,n,t){return new q(e,n,t)},e.FIXED_BODY=H,e.KEYED_LIST=G,e.config=function(e){ue=e.onevent||ue,null!=e.syncRedraw&&(ae=e.syncRedraw),e.onemit&&le(e.onemit),e.stream&&K(e.stream)},Object.defineProperty(e,"__esModule",{value:true})});